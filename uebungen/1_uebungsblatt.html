<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Daria Tisch">

<title>1. Übungsblatt – Fortgeschrittene quantitative Methoden</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../slides/2_seminar.html" rel="next">
<link href="../slides/1_uebung.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-e26003cea8cd680ca0c55a263523d882.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-d97e300dad0fdeedbbab20cb1319fd80.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="../site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="../site_libs/pagedtable-1.1/js/pagedtable.js"></script>


</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../schedule.html">Zeitplan und Dateien</a></li><li class="breadcrumb-item"><a href="../uebungen/1_uebungsblatt.html">1 - Übungsblatt</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-center sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Fortgeschrittene quantitative Methoden</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/dariatisch/wup2024" title="GitHub" class="quarto-navigation-tool px-1" aria-label="GitHub"><i class="bi bi-github"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Kursinformationen</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Zeitplan und Dateien</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../schedule.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Übersicht</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../slides/1_seminar.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1 - Seminar</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../slides/1_uebung.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1 - Übung</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../uebungen/1_uebungsblatt.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">1 - Übungsblatt</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../slides/2_seminar.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2 - Seminar (Paneldaten)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../uebungen/2_uebungsblatt.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2 - Übungsblatt (Paneldaten)</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#einführung-in-quarto-und-r" id="toc-einführung-in-quarto-und-r" class="nav-link active" data-scroll-target="#einführung-in-quarto-und-r"><span class="header-section-number">1</span> Einführung in Quarto und R</a>
  <ul class="collapse">
  <li><a href="#quarto" id="toc-quarto" class="nav-link" data-scroll-target="#quarto"><span class="header-section-number">1.1</span> Quarto</a></li>
  <li><a href="#code-ausführen" id="toc-code-ausführen" class="nav-link" data-scroll-target="#code-ausführen"><span class="header-section-number">1.2</span> Code ausführen</a></li>
  <li><a href="#arbeitsverzeichnis-festsetzen" id="toc-arbeitsverzeichnis-festsetzen" class="nav-link" data-scroll-target="#arbeitsverzeichnis-festsetzen"><span class="header-section-number">1.3</span> Arbeitsverzeichnis festsetzen</a></li>
  <li><a href="#packages-installieren-und-laden" id="toc-packages-installieren-und-laden" class="nav-link" data-scroll-target="#packages-installieren-und-laden"><span class="header-section-number">1.4</span> Packages installieren und laden</a></li>
  <li><a href="#daten-einlesen" id="toc-daten-einlesen" class="nav-link" data-scroll-target="#daten-einlesen"><span class="header-section-number">1.5</span> Daten einlesen</a></li>
  <li><a href="#datenexploration" id="toc-datenexploration" class="nav-link" data-scroll-target="#datenexploration"><span class="header-section-number">1.6</span> Datenexploration</a></li>
  <li><a href="#datenexploration-1" id="toc-datenexploration-1" class="nav-link" data-scroll-target="#datenexploration-1"><span class="header-section-number">1.7</span> Datenexploration</a></li>
  <li><a href="#welche-variablen-sind-im-datensatz-enthalten" id="toc-welche-variablen-sind-im-datensatz-enthalten" class="nav-link" data-scroll-target="#welche-variablen-sind-im-datensatz-enthalten"><span class="header-section-number">1.8</span> Welche Variablen sind im Datensatz enthalten?</a></li>
  </ul></li>
  <li><a href="#übungsaufgaben" id="toc-übungsaufgaben" class="nav-link" data-scroll-target="#übungsaufgaben"><span class="header-section-number">2</span> Übungsaufgaben</a>
  <ul class="collapse">
  <li><a href="#frauen-im-datensatz" id="toc-frauen-im-datensatz" class="nav-link" data-scroll-target="#frauen-im-datensatz"><span class="header-section-number">2.1</span> Frauen im Datensatz</a></li>
  <li><a href="#balkendiagramm-mit-ggplot" id="toc-balkendiagramm-mit-ggplot" class="nav-link" data-scroll-target="#balkendiagramm-mit-ggplot"><span class="header-section-number">2.2</span> Balkendiagramm mit ggplot()</a></li>
  <li><a href="#summary-statistics" id="toc-summary-statistics" class="nav-link" data-scroll-target="#summary-statistics"><span class="header-section-number">2.3</span> Summary Statistics</a></li>
  <li><a href="#variablentypen" id="toc-variablentypen" class="nav-link" data-scroll-target="#variablentypen"><span class="header-section-number">2.4</span> Variablentypen</a></li>
  <li><a href="#kreuz-tabellen" id="toc-kreuz-tabellen" class="nav-link" data-scroll-target="#kreuz-tabellen"><span class="header-section-number">2.5</span> (Kreuz-)tabellen</a></li>
  <li><a href="#datensatz-exploration" id="toc-datensatz-exploration" class="nav-link" data-scroll-target="#datensatz-exploration"><span class="header-section-number">2.6</span> Datensatz Exploration</a></li>
  <li><a href="#vektor" id="toc-vektor" class="nav-link" data-scroll-target="#vektor"><span class="header-section-number">2.7</span> Vektor</a></li>
  <li><a href="#data-wrlangling" id="toc-data-wrlangling" class="nav-link" data-scroll-target="#data-wrlangling"><span class="header-section-number">2.8</span> Data wrlangling</a></li>
  <li><a href="#balkendiagramm" id="toc-balkendiagramm" class="nav-link" data-scroll-target="#balkendiagramm"><span class="header-section-number">2.9</span> Balkendiagramm</a></li>
  <li><a href="#fehlende-werte" id="toc-fehlende-werte" class="nav-link" data-scroll-target="#fehlende-werte"><span class="header-section-number">2.10</span> Fehlende Werte</a></li>
  <li><a href="#zusammenhangsanalyse" id="toc-zusammenhangsanalyse" class="nav-link" data-scroll-target="#zusammenhangsanalyse"><span class="header-section-number">2.11</span> Zusammenhangsanalyse</a></li>
  <li><a href="#zusammenhangsanalyse-mit-log.-daten" id="toc-zusammenhangsanalyse-mit-log.-daten" class="nav-link" data-scroll-target="#zusammenhangsanalyse-mit-log.-daten"><span class="header-section-number">2.12</span> Zusammenhangsanalyse mit log. Daten</a></li>
  <li><a href="#render" id="toc-render" class="nav-link" data-scroll-target="#render"><span class="header-section-number">2.13</span> Render</a></li>
  </ul></li>
  <li><a href="#weiterführende-literatur" id="toc-weiterführende-literatur" class="nav-link" data-scroll-target="#weiterführende-literatur"><span class="header-section-number">3</span> Weiterführende Literatur</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../schedule.html">Zeitplan und Dateien</a></li><li class="breadcrumb-item"><a href="../uebungen/1_uebungsblatt.html">1 - Übungsblatt</a></li></ol></nav>
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">1. Übungsblatt</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Daria Tisch </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="einführung-in-quarto-und-r" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Einführung in Quarto und R</h1>
<section id="quarto" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="quarto"><span class="header-section-number">1.1</span> Quarto</h2>
<p>Quarto ermöglicht es, Inhalte und ausführbaren Code zu einem fertigen Dokument zu verweben. Mehr über Quarto unter <a href="https://quarto.org" class="uri">https://quarto.org</a>.</p>
</section>
<section id="code-ausführen" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="code-ausführen"><span class="header-section-number">1.2</span> Code ausführen</h2>
<p>Wenn Du auf die Schaltfläche <strong>Render</strong> klickst, wird ein Dokument erstellt, das sowohl den Inhalt als auch die <strong>Ausgabe</strong> des eingebetteten Codes enthält. Code kann wie folgt einbettet werden:</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="co"># This is the first code chunk</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="dv">1</span> <span class="sc">+</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
</div>
<p>Es können Optionen zu ausführbarem Code wie folgt hinzugefügt werden</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4</code></pre>
</div>
</div>
<p><code>echo: false</code> deaktiviert das Drucken des Codes (nur die Ausgabe wird angezeigt).</p>
</section>
<section id="arbeitsverzeichnis-festsetzen" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="arbeitsverzeichnis-festsetzen"><span class="header-section-number">1.3</span> Arbeitsverzeichnis festsetzen</h2>
<p>Als ersten Schritt sollte immer das Arbeitsverzeichnis festgelegt weren. Ändere dies bitte zu Deinem.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="co"># set working directory</span></span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="fu">setwd</span>(<span class="st">"D:/Seafile/main/teaching/2024_wuppertal/wup2024/uebungen"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="packages-installieren-und-laden" class="level2" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="packages-installieren-und-laden"><span class="header-section-number">1.4</span> Packages installieren und laden</h2>
<p><a href="https://jaspertjaden.github.io/course-intro2r/week2.html#week2">R als Füller</a></p>
<p>Bevor Du (die meisten) Dinge in R tun kannst, musst Du zunächst Pakete (packages) installieren und laden, die eine Bibliothek (library) mit praktischen Funktionen enthalten. Stell Dir vor, R ist ein Füller. Die Pakete sind die Tinte. Du brauchst zunächst die Tinte (Paket installieren) und dann musst Du die Tinte in den Stift geben (Paket laden), bevor Du mit dem Schreiben beginnen kannst (einen Befehl ausführen). Base R mag Dir die Standardtinte liefern, aber andere Pakete können wertvollere und interessantere Farben liefern.</p>
<p>Wir nutzen in dieser Übung zwei Pakete:</p>
<ol type="1">
<li><p>tidyverse: Hilfreich, um Datensatz augzubereiten. Eine gute Einführung in das Paket ist <a href="https://bookdown.org/yih_huynh/Guide-to-R-Book/tidyverse.html">hier</a> oder <a href="https://jaspertjaden.github.io/course-intro2r/week3.html">hier</a> zu finden.</p></li>
<li><p>ggplot2: (im Paket tidyverse enthalten). Hilfreich, um schöne Graphen zu erstellen. Eine gute Einführung ist <a href="https://datacarpentry.github.io/r-socialsci/05-ggplot2.html">hier</a> oder <a href="https://jaspertjaden.github.io/course-intro2r/week6.html">hier</a> zu finden.</p></li>
</ol>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="co"># Packages</span></span>
<span id="cb5-2"><a href="#cb5-2"></a>pkgs <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb5-3"><a href="#cb5-3"></a>  <span class="st">"tidyverse"</span></span>
<span id="cb5-4"><a href="#cb5-4"></a>)</span>
<span id="cb5-5"><a href="#cb5-5"></a></span>
<span id="cb5-6"><a href="#cb5-6"></a><span class="do">## Install uninstalled packages</span></span>
<span id="cb5-7"><a href="#cb5-7"></a><span class="fu">lapply</span>(pkgs[<span class="sc">!</span>(pkgs <span class="sc">%in%</span> <span class="fu">installed.packages</span>())], install.packages)</span>
<span id="cb5-8"><a href="#cb5-8"></a></span>
<span id="cb5-9"><a href="#cb5-9"></a><span class="do">## Load all packages to library</span></span>
<span id="cb5-10"><a href="#cb5-10"></a><span class="fu">lapply</span>(pkgs, library, <span class="at">character.only =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="daten-einlesen" class="level2" data-number="1.5">
<h2 data-number="1.5" class="anchored" data-anchor-id="daten-einlesen"><span class="header-section-number">1.5</span> Daten einlesen</h2>
<p>Wir arbeiten mit dem Übungsdatensatz des SOEP (DOI:10.5684/soep.practice.v36). Es werden zwei Datensätze eingelesen. Der erste Datensatz enthalt die tatsächlichen Umfragedaten, der zweite Datensatz enthält die Variablenlabels.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="co"># read data</span></span>
<span id="cb6-2"><a href="#cb6-2"></a>df <span class="ot">=</span> <span class="fu">read.csv</span>(<span class="st">"../daten/soep_uebung.csv"</span>)</span>
<span id="cb6-3"><a href="#cb6-3"></a>df_labels <span class="ot">=</span> <span class="fu">read.csv</span>(<span class="st">"../daten/soep_labels.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="datenexploration" class="level2" data-number="1.6">
<h2 data-number="1.6" class="anchored" data-anchor-id="datenexploration"><span class="header-section-number">1.6</span> Datenexploration</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="co"># Wie viele Zeilen hat der Datensatz?</span></span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="fu">nrow</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 23522</code></pre>
</div>
</div>
<p>Der Datensatz enthält 23522 Beobachtungen.</p>
</section>
<section id="datenexploration-1" class="level2" data-number="1.7">
<h2 data-number="1.7" class="anchored" data-anchor-id="datenexploration-1"><span class="header-section-number">1.7</span> Datenexploration</h2>
<p>Schauen wir uns die ersten Zeilen des Datensatzes an, um einen ersten Überblick über den Datensatz zu gewinnen.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="fu">head</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["id"],"name":[1],"type":["int"],"align":["right"]},{"label":["syear"],"name":[2],"type":["int"],"align":["right"]},{"label":["sex"],"name":[3],"type":["chr"],"align":["left"]},{"label":["alter"],"name":[4],"type":["int"],"align":["right"]},{"label":["anz_pers"],"name":[5],"type":["int"],"align":["right"]},{"label":["anz_kind"],"name":[6],"type":["int"],"align":["right"]},{"label":["bildung"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["erwerb"],"name":[8],"type":["chr"],"align":["left"]},{"label":["branche"],"name":[9],"type":["chr"],"align":["left"]},{"label":["gesund_org"],"name":[10],"type":["chr"],"align":["left"]},{"label":["lebensz_org"],"name":[11],"type":["chr"],"align":["left"]},{"label":["einkommenj1"],"name":[12],"type":["dbl"],"align":["right"]},{"label":["einkommenj2"],"name":[13],"type":["dbl"],"align":["right"]},{"label":["einkommenm1"],"name":[14],"type":["dbl"],"align":["right"]},{"label":["einkommenm2"],"name":[15],"type":["dbl"],"align":["right"]}],"data":[{"1":"194","2":"2015","3":"[1] weiblich","4":"59","5":"2","6":"0","7":"10.5","8":"[2] Teilzeitbeschäftigung","9":"[84] Oeffentliche Verwaltung, Verteidigung; Sozialversicherung","10":"[4] Weniger gut","11":"6","12":"28678.94","13":"0","14":"1659.129","15":"0","_rn_":"1"},{"1":"194","2":"2016","3":"[1] weiblich","4":"60","5":"2","6":"0","7":"10.5","8":"[2] Teilzeitbeschäftigung","9":"[84] Oeffentliche Verwaltung, Verteidigung; Sozialversicherung","10":"[3] Zufriedenstellend","11":"5","12":"19962.29","13":"0","14":"1809.336","15":"0","_rn_":"2"},{"1":"194","2":"2017","3":"[1] weiblich","4":"61","5":"2","6":"0","7":"10.5","8":"[2] Teilzeitbeschäftigung","9":"[84] Oeffentliche Verwaltung, Verteidigung; Sozialversicherung","10":"[3] Zufriedenstellend","11":"7","12":"22227.68","13":"0","14":"1849.037","15":"0","_rn_":"3"},{"1":"194","2":"2018","3":"[1] weiblich","4":"62","5":"2","6":"0","7":"10.5","8":"[2] Teilzeitbeschäftigung","9":"[84] Oeffentliche Verwaltung, Verteidigung; Sozialversicherung","10":"[5] Schlecht","11":"5","12":"22100.38","13":"0","14":"1616.514","15":"0","_rn_":"4"},{"1":"194","2":"2019","3":"[1] weiblich","4":"63","5":"2","6":"0","7":"10.5","8":"[2] Teilzeitbeschäftigung","9":"[84] Oeffentliche Verwaltung, Verteidigung; Sozialversicherung","10":"[4] Weniger gut","11":"6","12":"23157.92","13":"0","14":"1901.001","15":"0","_rn_":"5"},{"1":"19052","2":"2015","3":"[1] weiblich","4":"74","5":"2","6":"0","7":"10.0","8":"[5] Nicht erwerbstätig","9":"","10":"[2] Gut","11":"8","12":"0.00","13":"0","14":"0.000","15":"0","_rn_":"6"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="welche-variablen-sind-im-datensatz-enthalten" class="level2" data-number="1.8">
<h2 data-number="1.8" class="anchored" data-anchor-id="welche-variablen-sind-im-datensatz-enthalten"><span class="header-section-number">1.8</span> Welche Variablen sind im Datensatz enthalten?</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="co"># Namen der Variablen</span></span>
<span id="cb10-2"><a href="#cb10-2"></a><span class="fu">names</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "id"          "syear"       "sex"         "alter"       "anz_pers"   
 [6] "anz_kind"    "bildung"     "erwerb"      "branche"     "gesund_org" 
[11] "lebensz_org" "einkommenj1" "einkommenj2" "einkommenm1" "einkommenm2"</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="co">#Namen, Datentyp und erste Einträge der Variablen</span></span>
<span id="cb12-2"><a href="#cb12-2"></a><span class="fu">glimpse</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 23,522
Columns: 15
$ id          &lt;int&gt; 194, 194, 194, 194, 194, 19052, 27495, 27495, 27495, 22539…
$ syear       &lt;int&gt; 2015, 2016, 2017, 2018, 2019, 2015, 2016, 2018, 2019, 2015…
$ sex         &lt;chr&gt; "[1] weiblich", "[1] weiblich", "[1] weiblich", "[1] weibl…
$ alter       &lt;int&gt; 59, 60, 61, 62, 63, 74, 35, 37, 38, 85, 73, 74, 43, 44, 45…
$ anz_pers    &lt;int&gt; 2, 2, 2, 2, 2, 2, 3, 3, 3, 2, 1, 1, 4, 4, 4, 4, 4, 2, 2, 2…
$ anz_kind    &lt;int&gt; 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 2, 2, 2, 2, 2, 0, 0, 0…
$ bildung     &lt;dbl&gt; 10.5, 10.5, 10.5, 10.5, 10.5, 10.0, 15.0, 15.0, 15.0, 18.0…
$ erwerb      &lt;chr&gt; "[2] Teilzeitbeschäftigung", "[2] Teilzeitbeschäftigung", …
$ branche     &lt;chr&gt; "[84] Oeffentliche Verwaltung, Verteidigung; Sozialversich…
$ gesund_org  &lt;chr&gt; "[4] Weniger gut", "[3] Zufriedenstellend", "[3] Zufrieden…
$ lebensz_org &lt;chr&gt; "6", "5", "7", "5", "6", "8", "8", "8", "8", "8", "5", "8"…
$ einkommenj1 &lt;dbl&gt; 28678.94, 19962.29, 22227.68, 22100.38, 23157.92, 0.00, 14…
$ einkommenj2 &lt;dbl&gt; 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.…
$ einkommenm1 &lt;dbl&gt; 1659.1285, 1809.3364, 1849.0375, 1616.5137, 1901.0012, 0.0…
$ einkommenm2 &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…</code></pre>
</div>
</div>
</section>
</section>
<section id="übungsaufgaben" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Übungsaufgaben</h1>
<section id="frauen-im-datensatz" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="frauen-im-datensatz"><span class="header-section-number">2.1</span> Frauen im Datensatz</h2>
<p>Wie viele Beobachtungen im Datensatz sind Frauen?</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="fu">table</span>(df<span class="sc">$</span>sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
[0] männlich [1] weiblich 
       10762        12760 </code></pre>
</div>
</div>
</section>
<section id="balkendiagramm-mit-ggplot" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="balkendiagramm-mit-ggplot"><span class="header-section-number">2.2</span> Balkendiagramm mit ggplot()</h2>
<p>Erstelle ein Balkendiagramm, das die Verteilung des Alters darstellt.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x =</span> alter)) <span class="sc">+</span></span>
<span id="cb16-2"><a href="#cb16-2"></a>  <span class="fu">geom_bar</span>(<span class="at">fill =</span> <span class="st">"skyblue"</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb16-3"><a href="#cb16-3"></a>  <span class="fu">labs</span>(</span>
<span id="cb16-4"><a href="#cb16-4"></a>    <span class="at">title =</span> <span class="st">"Verteilung des Alters"</span>,</span>
<span id="cb16-5"><a href="#cb16-5"></a>    <span class="at">x =</span> <span class="st">"Alter"</span>,</span>
<span id="cb16-6"><a href="#cb16-6"></a>    <span class="at">y =</span> <span class="st">"Häufigkeit"</span></span>
<span id="cb16-7"><a href="#cb16-7"></a>  ) <span class="sc">+</span></span>
<span id="cb16-8"><a href="#cb16-8"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="1_uebungsblatt_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="summary-statistics" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="summary-statistics"><span class="header-section-number">2.3</span> Summary Statistics</h2>
<p>Wir alt ist die jüngste und wie alt die älteste Person?</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="fu">summary</span>(df<span class="sc">$</span>alter)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
  17.00   34.00   48.00   48.28   62.00  102.00 </code></pre>
</div>
</div>
</section>
<section id="variablentypen" class="level2" data-number="2.4">
<h2 data-number="2.4" class="anchored" data-anchor-id="variablentypen"><span class="header-section-number">2.4</span> Variablentypen</h2>
<p>Welcher Variablentyp ist Geschlecht (sex)? Welcher Alter? Welcher Bildung?</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a><span class="fu">glimpse</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 23,522
Columns: 15
$ id          &lt;int&gt; 194, 194, 194, 194, 194, 19052, 27495, 27495, 27495, 22539…
$ syear       &lt;int&gt; 2015, 2016, 2017, 2018, 2019, 2015, 2016, 2018, 2019, 2015…
$ sex         &lt;chr&gt; "[1] weiblich", "[1] weiblich", "[1] weiblich", "[1] weibl…
$ alter       &lt;int&gt; 59, 60, 61, 62, 63, 74, 35, 37, 38, 85, 73, 74, 43, 44, 45…
$ anz_pers    &lt;int&gt; 2, 2, 2, 2, 2, 2, 3, 3, 3, 2, 1, 1, 4, 4, 4, 4, 4, 2, 2, 2…
$ anz_kind    &lt;int&gt; 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 2, 2, 2, 2, 2, 0, 0, 0…
$ bildung     &lt;dbl&gt; 10.5, 10.5, 10.5, 10.5, 10.5, 10.0, 15.0, 15.0, 15.0, 18.0…
$ erwerb      &lt;chr&gt; "[2] Teilzeitbeschäftigung", "[2] Teilzeitbeschäftigung", …
$ branche     &lt;chr&gt; "[84] Oeffentliche Verwaltung, Verteidigung; Sozialversich…
$ gesund_org  &lt;chr&gt; "[4] Weniger gut", "[3] Zufriedenstellend", "[3] Zufrieden…
$ lebensz_org &lt;chr&gt; "6", "5", "7", "5", "6", "8", "8", "8", "8", "8", "5", "8"…
$ einkommenj1 &lt;dbl&gt; 28678.94, 19962.29, 22227.68, 22100.38, 23157.92, 0.00, 14…
$ einkommenj2 &lt;dbl&gt; 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.…
$ einkommenm1 &lt;dbl&gt; 1659.1285, 1809.3364, 1849.0375, 1616.5137, 1901.0012, 0.0…
$ einkommenm2 &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…</code></pre>
</div>
</div>
</section>
<section id="kreuz-tabellen" class="level2" data-number="2.5">
<h2 data-number="2.5" class="anchored" data-anchor-id="kreuz-tabellen"><span class="header-section-number">2.5</span> (Kreuz-)tabellen</h2>
<p>Wie viele Beobachtungen gibt es pro Jahr? Und getrennt nach Geschlecht?</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a><span class="fu">table</span>(df<span class="sc">$</span>syear)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
2015 2016 2017 2018 2019 
5527 4987 4720 4351 3937 </code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a><span class="fu">table</span>(df<span class="sc">$</span>syear, df<span class="sc">$</span>sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>      
       [0] männlich [1] weiblich
  2015         2533         2994
  2016         2291         2696
  2017         2167         2553
  2018         1992         2359
  2019         1779         2158</code></pre>
</div>
</div>
</section>
<section id="datensatz-exploration" class="level2" data-number="2.6">
<h2 data-number="2.6" class="anchored" data-anchor-id="datensatz-exploration"><span class="header-section-number">2.6</span> Datensatz Exploration</h2>
<p>Was beinhaltet die Variable “einkommenj1” und “einkommenj2”?</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a>df_labels</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["variable"],"name":[1],"type":["chr"],"align":["left"]},{"label":["variable_label"],"name":[2],"type":["chr"],"align":["left"]}],"data":[{"1":"id","2":"Personennummer (zufällig generiert)"},{"1":"syear","2":"Erhebungsjahr"},{"1":"sex","2":"Geschlecht"},{"1":"alter","2":"Alter der Befragungsperson"},{"1":"anz_pers","2":"Anzahl Personen im Haushalt"},{"1":"anz_kind","2":"Anzahl Kinder im Haushalt"},{"1":"bildung","2":"Anzahl an Bildungsjahren"},{"1":"erwerb","2":"Erwerbsstatus"},{"1":"branche","2":"Branche aktueller Beruf"},{"1":"gesund_org","2":"subj. Gesundheit"},{"1":"lebensz_org","2":"Ggw. Lebenszufriedenheit"},{"1":"einkommenj1","2":"Bruttoeinkommen/Jahr Hauptberuf"},{"1":"einkommenj2","2":"Bruttoeinkommen/Jahr Nebenberuf"},{"1":"einkommenm1","2":"Bruttoeinkommen/Monat Hauptberuf"},{"1":"einkommenm2","2":"Bruttoeinkommen/Monat Nebenberuf"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="vektor" class="level2" data-number="2.7">
<h2 data-number="2.7" class="anchored" data-anchor-id="vektor"><span class="header-section-number">2.7</span> Vektor</h2>
<p>Erstelle einen Vektor, der die Ausprägungen der Variable “gesund_org” enthält. Und schaue Dir diesen Vektor an.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a><span class="co"># Eindeutige Ausprägungen der Variable 'gesund_org'</span></span>
<span id="cb26-2"><a href="#cb26-2"></a>vektor_gesund_org <span class="ot">&lt;-</span> <span class="fu">unique</span>(df<span class="sc">$</span>gesund_org)</span>
<span id="cb26-3"><a href="#cb26-3"></a></span>
<span id="cb26-4"><a href="#cb26-4"></a><span class="co"># Ausgabe der eindeutigen Ausprägungen</span></span>
<span id="cb26-5"><a href="#cb26-5"></a><span class="fu">print</span>(vektor_gesund_org)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "[4] Weniger gut"       "[3] Zufriedenstellend" "[5] Schlecht"         
[4] "[2] Gut"               ""                      "[1] Sehr gut"         </code></pre>
</div>
</div>
</section>
<section id="data-wrlangling" class="level2" data-number="2.8">
<h2 data-number="2.8" class="anchored" data-anchor-id="data-wrlangling"><span class="header-section-number">2.8</span> Data wrlangling</h2>
<p>Wir möchten den subjektiven Gesundheitsstatus als numerische Variable nutzen. Wir müssen daher die Variable gesund_org in eine numerische Variable umwandeln. Achte auf fehlende Werte.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a><span class="fu">table</span>(df<span class="sc">$</span>gesund_org, <span class="at">useNA =</span> <span class="st">"always"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
                               [1] Sehr gut               [2] Gut 
                  102                  2535                  9488 
[3] Zufriedenstellend       [4] Weniger gut          [5] Schlecht 
                 7576                  3089                   732 
                 &lt;NA&gt; 
                    0 </code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1"></a><span class="co"># Ersetze leere Zeichenketten "" durch NA in der Spalte 'gesund_org'</span></span>
<span id="cb30-2"><a href="#cb30-2"></a>df<span class="sc">$</span>gesund_org[df<span class="sc">$</span>gesund_org <span class="sc">==</span> <span class="st">""</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb30-3"><a href="#cb30-3"></a></span>
<span id="cb30-4"><a href="#cb30-4"></a><span class="co"># Extrahiere die numerischen Werte aus der Spalte 'gesund_org'</span></span>
<span id="cb30-5"><a href="#cb30-5"></a>df<span class="sc">$</span>gesund_org_numeric <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">sub</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">[([0-9]+)</span><span class="sc">\\</span><span class="st">].*"</span>, <span class="st">"</span><span class="sc">\\</span><span class="st">1"</span>, df<span class="sc">$</span>gesund_org))</span>
<span id="cb30-6"><a href="#cb30-6"></a></span>
<span id="cb30-7"><a href="#cb30-7"></a><span class="co"># Überprüfe die Änderungen</span></span>
<span id="cb30-8"><a href="#cb30-8"></a><span class="fu">table</span>(df<span class="sc">$</span>gesund_org_numeric, <span class="at">useNA =</span> <span class="st">"always"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
   1    2    3    4    5 &lt;NA&gt; 
2535 9488 7576 3089  732  102 </code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a><span class="fu">table</span>(df<span class="sc">$</span>gesund_org, <span class="at">useNA =</span> <span class="st">"always"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
         [1] Sehr gut               [2] Gut [3] Zufriedenstellend 
                 2535                  9488                  7576 
      [4] Weniger gut          [5] Schlecht                  &lt;NA&gt; 
                 3089                   732                   102 </code></pre>
</div>
</div>
</section>
<section id="balkendiagramm" class="level2" data-number="2.9">
<h2 data-number="2.9" class="anchored" data-anchor-id="balkendiagramm"><span class="header-section-number">2.9</span> Balkendiagramm</h2>
<p>Stelle die Verteilung des subjetiven Gesundheitsstatus graphisch dar</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1"></a><span class="co"># Barplot erstellen</span></span>
<span id="cb34-2"><a href="#cb34-2"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(gesund_org_numeric))) <span class="sc">+</span></span>
<span id="cb34-3"><a href="#cb34-3"></a>  <span class="fu">geom_bar</span>(<span class="at">fill =</span> <span class="st">"skyblue"</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb34-4"><a href="#cb34-4"></a>  <span class="fu">labs</span>(</span>
<span id="cb34-5"><a href="#cb34-5"></a>    <span class="at">title =</span> <span class="st">"Univariate Verteilung des subjektiven Gesundheitsstatus"</span>,</span>
<span id="cb34-6"><a href="#cb34-6"></a>    <span class="at">x =</span> <span class="st">"Subjektiver Gesundheitsstatus (1 = Sehr gut, 5 = Schlecht)"</span>,</span>
<span id="cb34-7"><a href="#cb34-7"></a>    <span class="at">y =</span> <span class="st">"Häufigkeit"</span></span>
<span id="cb34-8"><a href="#cb34-8"></a>  ) <span class="sc">+</span></span>
<span id="cb34-9"><a href="#cb34-9"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="1_uebungsblatt_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="fehlende-werte" class="level2" data-number="2.10">
<h2 data-number="2.10" class="anchored" data-anchor-id="fehlende-werte"><span class="header-section-number">2.10</span> Fehlende Werte</h2>
<p>Gibt es fehlende Werte auf der Variable monatliches Einkommen (einkommenm1) und auf der Variable Alter?</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1"></a><span class="fu">table</span>(df<span class="sc">$</span>alter, <span class="at">useNA =</span> <span class="st">"always"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
  17   18   19   20   21   22   23   24   25   26   27   28   29   30   31   32 
 472  470  437  392  347  290  281  263  244  254  283  282  293  304  337  341 
  33   34   35   36   37   38   39   40   41   42   43   44   45   46   47   48 
 331  368  387  387  379  397  413  430  447  450  454  434  450  466  466  473 
  49   50   51   52   53   54   55   56   57   58   59   60   61   62   63   64 
 500  517  526  518  479  447  412  381  381  359  339  336  326  296  298  312 
  65   66   67   68   69   70   71   72   73   74   75   76   77   78   79   80 
 325  314  309  294  272  239  242  244  246  256  276  271  270  247  223  192 
  81   82   83   84   85   86   87   88   89   90   91   92   93   94   95   96 
 156  124  105   82   74   64   47   46   36   28   19   18   13   11    8    5 
  97   98   99  100  101  102 &lt;NA&gt; 
   5    4    3    3    1    1    0 </code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a><span class="fu">summary</span>(df<span class="sc">$</span>einkommenm1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
    0.0     0.0   852.9  1645.6  2687.4 35260.9 </code></pre>
</div>
</div>
</section>
<section id="zusammenhangsanalyse" class="level2" data-number="2.11">
<h2 data-number="2.11" class="anchored" data-anchor-id="zusammenhangsanalyse"><span class="header-section-number">2.11</span> Zusammenhangsanalyse</h2>
<p>Schaue Dir den Zusammenhang von subjektiven Gesundheitsstatus und Alter graphisch mit Hilfe eines Scatterplots an. Beschränke die Daten auf das Jahr 2019 und auf Personen, die jünger als 65 Jahre alt sind.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1"></a><span class="co"># Scatterplot mit ggplot2 erstellen</span></span>
<span id="cb39-2"><a href="#cb39-2"></a><span class="fu">ggplot</span>(df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(syear<span class="sc">==</span><span class="st">"2019"</span>, alter <span class="sc">&lt;</span> <span class="dv">65</span>), <span class="fu">aes</span>(<span class="at">x =</span> alter , <span class="at">y =</span> einkommenm1)) <span class="sc">+</span></span>
<span id="cb39-3"><a href="#cb39-3"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"blue"</span>, <span class="at">alpha =</span> <span class="fl">0.6</span>) <span class="sc">+</span>  <span class="co"># Punkte hinzufügen</span></span>
<span id="cb39-4"><a href="#cb39-4"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">color =</span> <span class="st">"red"</span>, <span class="at">se =</span> <span class="cn">TRUE</span>) <span class="sc">+</span>  <span class="co"># Lineare Trendlinie mit Konfidenzintervall</span></span>
<span id="cb39-5"><a href="#cb39-5"></a>  <span class="fu">labs</span>(</span>
<span id="cb39-6"><a href="#cb39-6"></a>    <span class="at">title =</span> <span class="st">"Zusammenhang zwischen Einkommen und Alter"</span>,</span>
<span id="cb39-7"><a href="#cb39-7"></a>    <span class="at">x =</span> <span class="st">"Alter"</span>,</span>
<span id="cb39-8"><a href="#cb39-8"></a>    <span class="at">y =</span> <span class="st">"Einkommen"</span></span>
<span id="cb39-9"><a href="#cb39-9"></a>  ) <span class="sc">+</span></span>
<span id="cb39-10"><a href="#cb39-10"></a>  <span class="fu">theme_minimal</span>()  <span class="co"># Minimalistisches Theme</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="1_uebungsblatt_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="zusammenhangsanalyse-mit-log.-daten" class="level2" data-number="2.12">
<h2 data-number="2.12" class="anchored" data-anchor-id="zusammenhangsanalyse-mit-log.-daten"><span class="header-section-number">2.12</span> Zusammenhangsanalyse mit log. Daten</h2>
<p>Und nun mit logarithmiertem Einkommen. Was fällt auf?</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1"></a><span class="co"># Scatterplot mit ggplot2 erstellen</span></span>
<span id="cb41-2"><a href="#cb41-2"></a><span class="fu">ggplot</span>(df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(syear<span class="sc">==</span><span class="st">"2019"</span>, alter <span class="sc">&lt;</span> <span class="dv">65</span>), <span class="fu">aes</span>(<span class="at">x =</span> alter , <span class="at">y =</span> <span class="fu">log</span>(einkommenm1))) <span class="sc">+</span></span>
<span id="cb41-3"><a href="#cb41-3"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"blue"</span>, <span class="at">alpha =</span> <span class="fl">0.6</span>) <span class="sc">+</span>  <span class="co"># Punkte hinzufügen</span></span>
<span id="cb41-4"><a href="#cb41-4"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">color =</span> <span class="st">"red"</span>, <span class="at">se =</span> <span class="cn">TRUE</span>) <span class="sc">+</span>  <span class="co"># Lineare Trendlinie mit Konfidenzintervall</span></span>
<span id="cb41-5"><a href="#cb41-5"></a>  <span class="fu">labs</span>(</span>
<span id="cb41-6"><a href="#cb41-6"></a>    <span class="at">title =</span> <span class="st">"Zusammenhang zwischen Einkommen und Alter"</span>,</span>
<span id="cb41-7"><a href="#cb41-7"></a>    <span class="at">x =</span> <span class="st">"Alter"</span>,</span>
<span id="cb41-8"><a href="#cb41-8"></a>    <span class="at">y =</span> <span class="st">"Einkommen, log."</span></span>
<span id="cb41-9"><a href="#cb41-9"></a>  ) <span class="sc">+</span></span>
<span id="cb41-10"><a href="#cb41-10"></a>  <span class="fu">theme_minimal</span>()  <span class="co"># Minimalistisches Theme</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 660 rows containing non-finite outside the scale range
(`stat_smooth()`).</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="1_uebungsblatt_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="render" class="level2" data-number="2.13">
<h2 data-number="2.13" class="anchored" data-anchor-id="render"><span class="header-section-number">2.13</span> Render</h2>
<p>Wandle dieses Dokument in ein PDF und ein HTML Dokument um. Wo wird es gespeichert?</p>
</section>
</section>
<section id="weiterführende-literatur" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Weiterführende Literatur</h1>
<ul>
<li><a href="https://r4ds.had.co.nz/">R for Data Science</a></li>
</ul>


<!-- -->

</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/dariatisch\.github\.io\/wup2024\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../slides/1_uebung.html" class="pagination-link" aria-label="1 - Übung">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">1 - Übung</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../slides/2_seminar.html" class="pagination-link" aria-label="2 - Seminar  (Paneldaten)">
        <span class="nav-page-text">2 - Seminar (Paneldaten)</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb44" data-shortcodes="false"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb44-1"><a href="#cb44-1"></a><span class="co">---</span></span>
<span id="cb44-2"><a href="#cb44-2"></a><span class="an">title:</span><span class="co"> "1. Übungsblatt"</span></span>
<span id="cb44-3"><a href="#cb44-3"></a><span class="an">author:</span><span class="co"> "Daria Tisch"</span></span>
<span id="cb44-4"><a href="#cb44-4"></a><span class="an">format:</span><span class="co"> </span></span>
<span id="cb44-5"><a href="#cb44-5"></a><span class="co">  html:</span></span>
<span id="cb44-6"><a href="#cb44-6"></a><span class="co">    code-fold: true</span></span>
<span id="cb44-7"><a href="#cb44-7"></a><span class="co">    code-tools: true</span></span>
<span id="cb44-8"><a href="#cb44-8"></a><span class="co">    code-link: true</span></span>
<span id="cb44-9"><a href="#cb44-9"></a><span class="co">    df-print: paged</span></span>
<span id="cb44-10"><a href="#cb44-10"></a><span class="co">    code-line-numbers: true</span></span>
<span id="cb44-11"><a href="#cb44-11"></a><span class="an">editor:</span><span class="co"> visual</span></span>
<span id="cb44-12"><a href="#cb44-12"></a><span class="an">number-sections:</span><span class="co"> true</span></span>
<span id="cb44-13"><a href="#cb44-13"></a><span class="co">---</span></span>
<span id="cb44-14"><a href="#cb44-14"></a></span>
<span id="cb44-15"><a href="#cb44-15"></a><span class="fu"># Einführung in Quarto und R</span></span>
<span id="cb44-16"><a href="#cb44-16"></a></span>
<span id="cb44-17"><a href="#cb44-17"></a><span class="fu">## Quarto</span></span>
<span id="cb44-18"><a href="#cb44-18"></a></span>
<span id="cb44-19"><a href="#cb44-19"></a>Quarto ermöglicht es, Inhalte und ausführbaren Code zu einem fertigen Dokument zu verweben. Mehr über Quarto unter <span class="ot">&lt;https://quarto.org&gt;</span>.</span>
<span id="cb44-20"><a href="#cb44-20"></a></span>
<span id="cb44-21"><a href="#cb44-21"></a><span class="fu">## Code ausführen</span></span>
<span id="cb44-22"><a href="#cb44-22"></a></span>
<span id="cb44-23"><a href="#cb44-23"></a>Wenn Du auf die Schaltfläche **Render** klickst, wird ein Dokument erstellt, das sowohl den Inhalt als auch die **Ausgabe** des eingebetteten Codes enthält. Code kann wie folgt einbettet werden:</span>
<span id="cb44-24"><a href="#cb44-24"></a></span>
<span id="cb44-27"><a href="#cb44-27"></a><span class="in">```{r}</span></span>
<span id="cb44-28"><a href="#cb44-28"></a><span class="co"># This is the first code chunk</span></span>
<span id="cb44-29"><a href="#cb44-29"></a><span class="dv">1</span> <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb44-30"><a href="#cb44-30"></a><span class="in">```</span></span>
<span id="cb44-31"><a href="#cb44-31"></a></span>
<span id="cb44-32"><a href="#cb44-32"></a>Es können Optionen zu ausführbarem Code wie folgt hinzugefügt werden</span>
<span id="cb44-33"><a href="#cb44-33"></a></span>
<span id="cb44-36"><a href="#cb44-36"></a><span class="in">```{r}</span></span>
<span id="cb44-37"><a href="#cb44-37"></a><span class="co">#| echo: false</span></span>
<span id="cb44-38"><a href="#cb44-38"></a><span class="dv">2</span> <span class="sc">*</span> <span class="dv">2</span></span>
<span id="cb44-39"><a href="#cb44-39"></a><span class="in">```</span></span>
<span id="cb44-40"><a href="#cb44-40"></a></span>
<span id="cb44-41"><a href="#cb44-41"></a><span class="in">`echo: false`</span> deaktiviert das Drucken des Codes (nur die Ausgabe wird angezeigt).</span>
<span id="cb44-42"><a href="#cb44-42"></a></span>
<span id="cb44-43"><a href="#cb44-43"></a><span class="fu">## Arbeitsverzeichnis festsetzen</span></span>
<span id="cb44-44"><a href="#cb44-44"></a></span>
<span id="cb44-45"><a href="#cb44-45"></a>Als ersten Schritt sollte immer das Arbeitsverzeichnis festgelegt weren. Ändere dies bitte zu Deinem.</span>
<span id="cb44-46"><a href="#cb44-46"></a></span>
<span id="cb44-49"><a href="#cb44-49"></a><span class="in">```{r}</span></span>
<span id="cb44-50"><a href="#cb44-50"></a><span class="co"># set working directory</span></span>
<span id="cb44-51"><a href="#cb44-51"></a><span class="fu">setwd</span>(<span class="st">"D:/Seafile/main/teaching/2024_wuppertal/wup2024/uebungen"</span>)</span>
<span id="cb44-52"><a href="#cb44-52"></a><span class="in">```</span></span>
<span id="cb44-53"><a href="#cb44-53"></a></span>
<span id="cb44-54"><a href="#cb44-54"></a><span class="fu">## Packages installieren und laden</span></span>
<span id="cb44-55"><a href="#cb44-55"></a></span>
<span id="cb44-56"><a href="#cb44-56"></a><span class="co">[</span><span class="ot">R als Füller</span><span class="co">](https://jaspertjaden.github.io/course-intro2r/week2.html#week2)</span></span>
<span id="cb44-57"><a href="#cb44-57"></a></span>
<span id="cb44-58"><a href="#cb44-58"></a>Bevor Du (die meisten) Dinge in R tun kannst, musst Du zunächst Pakete (packages) installieren und laden, die eine Bibliothek (library) mit praktischen Funktionen enthalten. Stell Dir vor, R ist ein Füller. Die Pakete sind die Tinte. Du brauchst zunächst die Tinte (Paket installieren) und dann musst Du die Tinte in den Stift geben (Paket laden), bevor Du mit dem Schreiben beginnen kannst (einen Befehl ausführen). Base R mag Dir die Standardtinte liefern, aber andere Pakete können wertvollere und interessantere Farben liefern.</span>
<span id="cb44-59"><a href="#cb44-59"></a></span>
<span id="cb44-60"><a href="#cb44-60"></a>Wir nutzen in dieser Übung zwei Pakete:</span>
<span id="cb44-61"><a href="#cb44-61"></a></span>
<span id="cb44-62"><a href="#cb44-62"></a><span class="ss">1.  </span>tidyverse: Hilfreich, um Datensatz augzubereiten. Eine gute Einführung in das Paket ist <span class="co">[</span><span class="ot">hier</span><span class="co">](https://bookdown.org/yih_huynh/Guide-to-R-Book/tidyverse.html)</span> oder <span class="co">[</span><span class="ot">hier</span><span class="co">](https://jaspertjaden.github.io/course-intro2r/week3.html)</span> zu finden.</span>
<span id="cb44-63"><a href="#cb44-63"></a></span>
<span id="cb44-64"><a href="#cb44-64"></a><span class="ss">2.  </span>ggplot2: (im Paket tidyverse enthalten). Hilfreich, um schöne Graphen zu erstellen. Eine gute Einführung ist <span class="co">[</span><span class="ot">hier</span><span class="co">](https://datacarpentry.github.io/r-socialsci/05-ggplot2.html)</span> oder <span class="co">[</span><span class="ot">hier</span><span class="co">](https://jaspertjaden.github.io/course-intro2r/week6.html)</span> zu finden.</span>
<span id="cb44-65"><a href="#cb44-65"></a></span>
<span id="cb44-68"><a href="#cb44-68"></a><span class="in">```{r}</span></span>
<span id="cb44-69"><a href="#cb44-69"></a><span class="co">#| echo: true</span></span>
<span id="cb44-70"><a href="#cb44-70"></a><span class="co">#| results: "hide"</span></span>
<span id="cb44-71"><a href="#cb44-71"></a><span class="co">#| warning: false</span></span>
<span id="cb44-72"><a href="#cb44-72"></a><span class="co"># Packages</span></span>
<span id="cb44-73"><a href="#cb44-73"></a>pkgs <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb44-74"><a href="#cb44-74"></a>  <span class="st">"tidyverse"</span></span>
<span id="cb44-75"><a href="#cb44-75"></a>)</span>
<span id="cb44-76"><a href="#cb44-76"></a></span>
<span id="cb44-77"><a href="#cb44-77"></a><span class="do">## Install uninstalled packages</span></span>
<span id="cb44-78"><a href="#cb44-78"></a><span class="fu">lapply</span>(pkgs[<span class="sc">!</span>(pkgs <span class="sc">%in%</span> <span class="fu">installed.packages</span>())], install.packages)</span>
<span id="cb44-79"><a href="#cb44-79"></a></span>
<span id="cb44-80"><a href="#cb44-80"></a><span class="do">## Load all packages to library</span></span>
<span id="cb44-81"><a href="#cb44-81"></a><span class="fu">lapply</span>(pkgs, library, <span class="at">character.only =</span> <span class="cn">TRUE</span>)</span>
<span id="cb44-82"><a href="#cb44-82"></a></span>
<span id="cb44-83"><a href="#cb44-83"></a><span class="in">```</span></span>
<span id="cb44-84"><a href="#cb44-84"></a></span>
<span id="cb44-85"><a href="#cb44-85"></a><span class="fu">## Daten einlesen</span></span>
<span id="cb44-86"><a href="#cb44-86"></a></span>
<span id="cb44-87"><a href="#cb44-87"></a>Wir arbeiten mit dem Übungsdatensatz des SOEP (DOI:10.5684/soep.practice.v36). Es werden zwei Datensätze eingelesen. Der erste Datensatz enthalt die tatsächlichen Umfragedaten, der zweite Datensatz enthält die Variablenlabels.</span>
<span id="cb44-88"><a href="#cb44-88"></a></span>
<span id="cb44-91"><a href="#cb44-91"></a><span class="in">```{r}</span></span>
<span id="cb44-92"><a href="#cb44-92"></a><span class="co"># read data</span></span>
<span id="cb44-93"><a href="#cb44-93"></a>df <span class="ot">=</span> <span class="fu">read.csv</span>(<span class="st">"../daten/soep_uebung.csv"</span>)</span>
<span id="cb44-94"><a href="#cb44-94"></a>df_labels <span class="ot">=</span> <span class="fu">read.csv</span>(<span class="st">"../daten/soep_labels.csv"</span>)</span>
<span id="cb44-95"><a href="#cb44-95"></a><span class="in">```</span></span>
<span id="cb44-96"><a href="#cb44-96"></a></span>
<span id="cb44-97"><a href="#cb44-97"></a><span class="fu">## Datenexploration</span></span>
<span id="cb44-98"><a href="#cb44-98"></a></span>
<span id="cb44-101"><a href="#cb44-101"></a><span class="in">```{r}</span></span>
<span id="cb44-102"><a href="#cb44-102"></a><span class="co"># Wie viele Zeilen hat der Datensatz?</span></span>
<span id="cb44-103"><a href="#cb44-103"></a><span class="fu">nrow</span>(df)</span>
<span id="cb44-104"><a href="#cb44-104"></a><span class="in">```</span></span>
<span id="cb44-105"><a href="#cb44-105"></a></span>
<span id="cb44-106"><a href="#cb44-106"></a>Der Datensatz enthält <span class="in">`{r} nrow(df)`</span> Beobachtungen.</span>
<span id="cb44-107"><a href="#cb44-107"></a></span>
<span id="cb44-108"><a href="#cb44-108"></a><span class="fu">## Datenexploration</span></span>
<span id="cb44-109"><a href="#cb44-109"></a></span>
<span id="cb44-110"><a href="#cb44-110"></a>Schauen wir uns die ersten Zeilen des Datensatzes an, um einen ersten Überblick über den Datensatz zu gewinnen.</span>
<span id="cb44-111"><a href="#cb44-111"></a></span>
<span id="cb44-114"><a href="#cb44-114"></a><span class="in">```{r}</span></span>
<span id="cb44-115"><a href="#cb44-115"></a><span class="fu">head</span>(df)</span>
<span id="cb44-116"><a href="#cb44-116"></a><span class="in">```</span></span>
<span id="cb44-117"><a href="#cb44-117"></a></span>
<span id="cb44-118"><a href="#cb44-118"></a><span class="fu">## Welche Variablen sind im Datensatz enthalten?</span></span>
<span id="cb44-119"><a href="#cb44-119"></a></span>
<span id="cb44-122"><a href="#cb44-122"></a><span class="in">```{r}</span></span>
<span id="cb44-123"><a href="#cb44-123"></a><span class="co"># Namen der Variablen</span></span>
<span id="cb44-124"><a href="#cb44-124"></a><span class="fu">names</span>(df)</span>
<span id="cb44-125"><a href="#cb44-125"></a></span>
<span id="cb44-126"><a href="#cb44-126"></a><span class="co">#Namen, Datentyp und erste Einträge der Variablen</span></span>
<span id="cb44-127"><a href="#cb44-127"></a><span class="fu">glimpse</span>(df)</span>
<span id="cb44-128"><a href="#cb44-128"></a></span>
<span id="cb44-129"><a href="#cb44-129"></a><span class="in">```</span></span>
<span id="cb44-130"><a href="#cb44-130"></a></span>
<span id="cb44-131"><a href="#cb44-131"></a><span class="fu"># Übungsaufgaben</span></span>
<span id="cb44-132"><a href="#cb44-132"></a></span>
<span id="cb44-133"><a href="#cb44-133"></a><span class="fu">## Frauen im Datensatz</span></span>
<span id="cb44-134"><a href="#cb44-134"></a></span>
<span id="cb44-135"><a href="#cb44-135"></a>Wie viele Beobachtungen im Datensatz sind Frauen?</span>
<span id="cb44-136"><a href="#cb44-136"></a></span>
<span id="cb44-139"><a href="#cb44-139"></a><span class="in">```{r}</span></span>
<span id="cb44-140"><a href="#cb44-140"></a><span class="fu">table</span>(df<span class="sc">$</span>sex)</span>
<span id="cb44-141"><a href="#cb44-141"></a><span class="in">```</span></span>
<span id="cb44-142"><a href="#cb44-142"></a></span>
<span id="cb44-143"><a href="#cb44-143"></a><span class="fu">## Balkendiagramm mit ggplot()</span></span>
<span id="cb44-144"><a href="#cb44-144"></a></span>
<span id="cb44-145"><a href="#cb44-145"></a>Erstelle ein Balkendiagramm, das die Verteilung des Alters darstellt.</span>
<span id="cb44-146"><a href="#cb44-146"></a></span>
<span id="cb44-149"><a href="#cb44-149"></a><span class="in">```{r}</span></span>
<span id="cb44-150"><a href="#cb44-150"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x =</span> alter)) <span class="sc">+</span></span>
<span id="cb44-151"><a href="#cb44-151"></a>  <span class="fu">geom_bar</span>(<span class="at">fill =</span> <span class="st">"skyblue"</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb44-152"><a href="#cb44-152"></a>  <span class="fu">labs</span>(</span>
<span id="cb44-153"><a href="#cb44-153"></a>    <span class="at">title =</span> <span class="st">"Verteilung des Alters"</span>,</span>
<span id="cb44-154"><a href="#cb44-154"></a>    <span class="at">x =</span> <span class="st">"Alter"</span>,</span>
<span id="cb44-155"><a href="#cb44-155"></a>    <span class="at">y =</span> <span class="st">"Häufigkeit"</span></span>
<span id="cb44-156"><a href="#cb44-156"></a>  ) <span class="sc">+</span></span>
<span id="cb44-157"><a href="#cb44-157"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb44-158"><a href="#cb44-158"></a><span class="in">```</span></span>
<span id="cb44-159"><a href="#cb44-159"></a></span>
<span id="cb44-160"><a href="#cb44-160"></a><span class="fu">## Summary Statistics</span></span>
<span id="cb44-161"><a href="#cb44-161"></a></span>
<span id="cb44-162"><a href="#cb44-162"></a>Wir alt ist die jüngste und wie alt die älteste Person?</span>
<span id="cb44-163"><a href="#cb44-163"></a></span>
<span id="cb44-166"><a href="#cb44-166"></a><span class="in">```{r}</span></span>
<span id="cb44-167"><a href="#cb44-167"></a><span class="fu">summary</span>(df<span class="sc">$</span>alter)</span>
<span id="cb44-168"><a href="#cb44-168"></a><span class="in">```</span></span>
<span id="cb44-169"><a href="#cb44-169"></a></span>
<span id="cb44-170"><a href="#cb44-170"></a><span class="fu">## Variablentypen</span></span>
<span id="cb44-171"><a href="#cb44-171"></a></span>
<span id="cb44-172"><a href="#cb44-172"></a>Welcher Variablentyp ist Geschlecht (sex)? Welcher Alter? Welcher Bildung?</span>
<span id="cb44-173"><a href="#cb44-173"></a></span>
<span id="cb44-176"><a href="#cb44-176"></a><span class="in">```{r}</span></span>
<span id="cb44-177"><a href="#cb44-177"></a><span class="fu">glimpse</span>(df)</span>
<span id="cb44-178"><a href="#cb44-178"></a><span class="in">```</span></span>
<span id="cb44-179"><a href="#cb44-179"></a></span>
<span id="cb44-180"><a href="#cb44-180"></a><span class="fu">## (Kreuz-)tabellen</span></span>
<span id="cb44-181"><a href="#cb44-181"></a></span>
<span id="cb44-182"><a href="#cb44-182"></a>Wie viele Beobachtungen gibt es pro Jahr? Und getrennt nach Geschlecht?</span>
<span id="cb44-183"><a href="#cb44-183"></a></span>
<span id="cb44-186"><a href="#cb44-186"></a><span class="in">```{r}</span></span>
<span id="cb44-187"><a href="#cb44-187"></a><span class="fu">table</span>(df<span class="sc">$</span>syear)</span>
<span id="cb44-188"><a href="#cb44-188"></a><span class="fu">table</span>(df<span class="sc">$</span>syear, df<span class="sc">$</span>sex)</span>
<span id="cb44-189"><a href="#cb44-189"></a><span class="in">```</span></span>
<span id="cb44-190"><a href="#cb44-190"></a></span>
<span id="cb44-191"><a href="#cb44-191"></a><span class="fu">## Datensatz Exploration</span></span>
<span id="cb44-192"><a href="#cb44-192"></a></span>
<span id="cb44-193"><a href="#cb44-193"></a>Was beinhaltet die Variable "einkommenj1" und "einkommenj2"?</span>
<span id="cb44-194"><a href="#cb44-194"></a></span>
<span id="cb44-197"><a href="#cb44-197"></a><span class="in">```{r}</span></span>
<span id="cb44-198"><a href="#cb44-198"></a>df_labels</span>
<span id="cb44-199"><a href="#cb44-199"></a><span class="in">```</span></span>
<span id="cb44-200"><a href="#cb44-200"></a></span>
<span id="cb44-201"><a href="#cb44-201"></a><span class="fu">## Vektor</span></span>
<span id="cb44-202"><a href="#cb44-202"></a></span>
<span id="cb44-203"><a href="#cb44-203"></a>Erstelle einen Vektor, der die Ausprägungen der Variable "gesund_org" enthält. Und schaue Dir diesen Vektor an.</span>
<span id="cb44-204"><a href="#cb44-204"></a></span>
<span id="cb44-207"><a href="#cb44-207"></a><span class="in">```{r}</span></span>
<span id="cb44-208"><a href="#cb44-208"></a><span class="co"># Eindeutige Ausprägungen der Variable 'gesund_org'</span></span>
<span id="cb44-209"><a href="#cb44-209"></a>vektor_gesund_org <span class="ot">&lt;-</span> <span class="fu">unique</span>(df<span class="sc">$</span>gesund_org)</span>
<span id="cb44-210"><a href="#cb44-210"></a></span>
<span id="cb44-211"><a href="#cb44-211"></a><span class="co"># Ausgabe der eindeutigen Ausprägungen</span></span>
<span id="cb44-212"><a href="#cb44-212"></a><span class="fu">print</span>(vektor_gesund_org)</span>
<span id="cb44-213"><a href="#cb44-213"></a><span class="in">```</span></span>
<span id="cb44-214"><a href="#cb44-214"></a></span>
<span id="cb44-215"><a href="#cb44-215"></a><span class="fu">## Data wrlangling</span></span>
<span id="cb44-216"><a href="#cb44-216"></a></span>
<span id="cb44-217"><a href="#cb44-217"></a>Wir möchten den subjektiven Gesundheitsstatus als numerische Variable nutzen. Wir müssen daher die Variable gesund_org in eine numerische Variable umwandeln. Achte auf fehlende Werte.</span>
<span id="cb44-218"><a href="#cb44-218"></a></span>
<span id="cb44-221"><a href="#cb44-221"></a><span class="in">```{r}</span></span>
<span id="cb44-222"><a href="#cb44-222"></a><span class="fu">table</span>(df<span class="sc">$</span>gesund_org, <span class="at">useNA =</span> <span class="st">"always"</span>)</span>
<span id="cb44-223"><a href="#cb44-223"></a><span class="co"># Ersetze leere Zeichenketten "" durch NA in der Spalte 'gesund_org'</span></span>
<span id="cb44-224"><a href="#cb44-224"></a>df<span class="sc">$</span>gesund_org[df<span class="sc">$</span>gesund_org <span class="sc">==</span> <span class="st">""</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb44-225"><a href="#cb44-225"></a></span>
<span id="cb44-226"><a href="#cb44-226"></a><span class="co"># Extrahiere die numerischen Werte aus der Spalte 'gesund_org'</span></span>
<span id="cb44-227"><a href="#cb44-227"></a>df<span class="sc">$</span>gesund_org_numeric <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">sub</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">[([0-9]+)</span><span class="sc">\\</span><span class="st">].*"</span>, <span class="st">"</span><span class="sc">\\</span><span class="st">1"</span>, df<span class="sc">$</span>gesund_org))</span>
<span id="cb44-228"><a href="#cb44-228"></a></span>
<span id="cb44-229"><a href="#cb44-229"></a><span class="co"># Überprüfe die Änderungen</span></span>
<span id="cb44-230"><a href="#cb44-230"></a><span class="fu">table</span>(df<span class="sc">$</span>gesund_org_numeric, <span class="at">useNA =</span> <span class="st">"always"</span>)</span>
<span id="cb44-231"><a href="#cb44-231"></a><span class="fu">table</span>(df<span class="sc">$</span>gesund_org, <span class="at">useNA =</span> <span class="st">"always"</span>)</span>
<span id="cb44-232"><a href="#cb44-232"></a><span class="in">```</span></span>
<span id="cb44-233"><a href="#cb44-233"></a></span>
<span id="cb44-234"><a href="#cb44-234"></a><span class="fu">## Balkendiagramm</span></span>
<span id="cb44-235"><a href="#cb44-235"></a></span>
<span id="cb44-236"><a href="#cb44-236"></a>Stelle die Verteilung des subjetiven Gesundheitsstatus graphisch dar</span>
<span id="cb44-237"><a href="#cb44-237"></a></span>
<span id="cb44-240"><a href="#cb44-240"></a><span class="in">```{r}</span></span>
<span id="cb44-241"><a href="#cb44-241"></a><span class="co"># Barplot erstellen</span></span>
<span id="cb44-242"><a href="#cb44-242"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(gesund_org_numeric))) <span class="sc">+</span></span>
<span id="cb44-243"><a href="#cb44-243"></a>  <span class="fu">geom_bar</span>(<span class="at">fill =</span> <span class="st">"skyblue"</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb44-244"><a href="#cb44-244"></a>  <span class="fu">labs</span>(</span>
<span id="cb44-245"><a href="#cb44-245"></a>    <span class="at">title =</span> <span class="st">"Univariate Verteilung des subjektiven Gesundheitsstatus"</span>,</span>
<span id="cb44-246"><a href="#cb44-246"></a>    <span class="at">x =</span> <span class="st">"Subjektiver Gesundheitsstatus (1 = Sehr gut, 5 = Schlecht)"</span>,</span>
<span id="cb44-247"><a href="#cb44-247"></a>    <span class="at">y =</span> <span class="st">"Häufigkeit"</span></span>
<span id="cb44-248"><a href="#cb44-248"></a>  ) <span class="sc">+</span></span>
<span id="cb44-249"><a href="#cb44-249"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb44-250"><a href="#cb44-250"></a></span>
<span id="cb44-251"><a href="#cb44-251"></a><span class="in">```</span></span>
<span id="cb44-252"><a href="#cb44-252"></a></span>
<span id="cb44-253"><a href="#cb44-253"></a><span class="fu">## Fehlende Werte</span></span>
<span id="cb44-254"><a href="#cb44-254"></a></span>
<span id="cb44-255"><a href="#cb44-255"></a>Gibt es fehlende Werte auf der Variable monatliches Einkommen (einkommenm1) und auf der Variable Alter?</span>
<span id="cb44-256"><a href="#cb44-256"></a></span>
<span id="cb44-259"><a href="#cb44-259"></a><span class="in">```{r}</span></span>
<span id="cb44-260"><a href="#cb44-260"></a><span class="fu">table</span>(df<span class="sc">$</span>alter, <span class="at">useNA =</span> <span class="st">"always"</span>)</span>
<span id="cb44-261"><a href="#cb44-261"></a><span class="fu">summary</span>(df<span class="sc">$</span>einkommenm1)</span>
<span id="cb44-262"><a href="#cb44-262"></a><span class="in">```</span></span>
<span id="cb44-263"><a href="#cb44-263"></a></span>
<span id="cb44-264"><a href="#cb44-264"></a><span class="fu">## Zusammenhangsanalyse</span></span>
<span id="cb44-265"><a href="#cb44-265"></a></span>
<span id="cb44-266"><a href="#cb44-266"></a>Schaue Dir den Zusammenhang von subjektiven Gesundheitsstatus und Alter graphisch mit Hilfe eines Scatterplots an. Beschränke die Daten auf das Jahr 2019 und auf Personen, die jünger als 65 Jahre alt sind.</span>
<span id="cb44-267"><a href="#cb44-267"></a></span>
<span id="cb44-270"><a href="#cb44-270"></a><span class="in">```{r}</span></span>
<span id="cb44-271"><a href="#cb44-271"></a><span class="co"># Scatterplot mit ggplot2 erstellen</span></span>
<span id="cb44-272"><a href="#cb44-272"></a><span class="fu">ggplot</span>(df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(syear<span class="sc">==</span><span class="st">"2019"</span>, alter <span class="sc">&lt;</span> <span class="dv">65</span>), <span class="fu">aes</span>(<span class="at">x =</span> alter , <span class="at">y =</span> einkommenm1)) <span class="sc">+</span></span>
<span id="cb44-273"><a href="#cb44-273"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"blue"</span>, <span class="at">alpha =</span> <span class="fl">0.6</span>) <span class="sc">+</span>  <span class="co"># Punkte hinzufügen</span></span>
<span id="cb44-274"><a href="#cb44-274"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">color =</span> <span class="st">"red"</span>, <span class="at">se =</span> <span class="cn">TRUE</span>) <span class="sc">+</span>  <span class="co"># Lineare Trendlinie mit Konfidenzintervall</span></span>
<span id="cb44-275"><a href="#cb44-275"></a>  <span class="fu">labs</span>(</span>
<span id="cb44-276"><a href="#cb44-276"></a>    <span class="at">title =</span> <span class="st">"Zusammenhang zwischen Einkommen und Alter"</span>,</span>
<span id="cb44-277"><a href="#cb44-277"></a>    <span class="at">x =</span> <span class="st">"Alter"</span>,</span>
<span id="cb44-278"><a href="#cb44-278"></a>    <span class="at">y =</span> <span class="st">"Einkommen"</span></span>
<span id="cb44-279"><a href="#cb44-279"></a>  ) <span class="sc">+</span></span>
<span id="cb44-280"><a href="#cb44-280"></a>  <span class="fu">theme_minimal</span>()  <span class="co"># Minimalistisches Theme</span></span>
<span id="cb44-281"><a href="#cb44-281"></a><span class="in">```</span></span>
<span id="cb44-282"><a href="#cb44-282"></a></span>
<span id="cb44-283"><a href="#cb44-283"></a><span class="fu">## Zusammenhangsanalyse mit log. Daten</span></span>
<span id="cb44-284"><a href="#cb44-284"></a></span>
<span id="cb44-285"><a href="#cb44-285"></a>Und nun mit logarithmiertem Einkommen. Was fällt auf?</span>
<span id="cb44-286"><a href="#cb44-286"></a></span>
<span id="cb44-289"><a href="#cb44-289"></a><span class="in">```{r}</span></span>
<span id="cb44-290"><a href="#cb44-290"></a><span class="co"># Scatterplot mit ggplot2 erstellen</span></span>
<span id="cb44-291"><a href="#cb44-291"></a><span class="fu">ggplot</span>(df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(syear<span class="sc">==</span><span class="st">"2019"</span>, alter <span class="sc">&lt;</span> <span class="dv">65</span>), <span class="fu">aes</span>(<span class="at">x =</span> alter , <span class="at">y =</span> <span class="fu">log</span>(einkommenm1))) <span class="sc">+</span></span>
<span id="cb44-292"><a href="#cb44-292"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"blue"</span>, <span class="at">alpha =</span> <span class="fl">0.6</span>) <span class="sc">+</span>  <span class="co"># Punkte hinzufügen</span></span>
<span id="cb44-293"><a href="#cb44-293"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">color =</span> <span class="st">"red"</span>, <span class="at">se =</span> <span class="cn">TRUE</span>) <span class="sc">+</span>  <span class="co"># Lineare Trendlinie mit Konfidenzintervall</span></span>
<span id="cb44-294"><a href="#cb44-294"></a>  <span class="fu">labs</span>(</span>
<span id="cb44-295"><a href="#cb44-295"></a>    <span class="at">title =</span> <span class="st">"Zusammenhang zwischen Einkommen und Alter"</span>,</span>
<span id="cb44-296"><a href="#cb44-296"></a>    <span class="at">x =</span> <span class="st">"Alter"</span>,</span>
<span id="cb44-297"><a href="#cb44-297"></a>    <span class="at">y =</span> <span class="st">"Einkommen, log."</span></span>
<span id="cb44-298"><a href="#cb44-298"></a>  ) <span class="sc">+</span></span>
<span id="cb44-299"><a href="#cb44-299"></a>  <span class="fu">theme_minimal</span>()  <span class="co"># Minimalistisches Theme</span></span>
<span id="cb44-300"><a href="#cb44-300"></a><span class="in">```</span></span>
<span id="cb44-301"><a href="#cb44-301"></a></span>
<span id="cb44-302"><a href="#cb44-302"></a><span class="fu">## Render</span></span>
<span id="cb44-303"><a href="#cb44-303"></a></span>
<span id="cb44-304"><a href="#cb44-304"></a>Wandle dieses Dokument in ein PDF und ein HTML Dokument um. Wo wird es gespeichert?</span>
<span id="cb44-305"><a href="#cb44-305"></a></span>
<span id="cb44-306"><a href="#cb44-306"></a><span class="fu"># Weiterführende Literatur</span></span>
<span id="cb44-307"><a href="#cb44-307"></a></span>
<span id="cb44-308"><a href="#cb44-308"></a><span class="ss">-   </span><span class="co">[</span><span class="ot">R for Data Science</span><span class="co">](https://r4ds.had.co.nz/)</span></span>
</code><button title="Copy to Clipboard" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>© Copyright 2024, Daria Tisch</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
<p>This page is built with 💙 and <a href="https://quarto.org/">Quarto</a>.</p>
</div>
  </div>
</footer>




</body></html>