<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.40">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Daria Tisch">

<title>4. Übungsblatt (Faktorielle Umfrageexperimente) – Fortgeschrittene quantitative Methoden</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../slides/4_seminar.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-549806ee2085284f45b00abea8c6df48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-2f648471ab26972d2792bad6ce10bde4.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="../site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="../site_libs/pagedtable-1.1/js/pagedtable.js"></script>


</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../schedule.html">Zeitplan und Dateien</a></li><li class="breadcrumb-item"><a href="../uebungen/4_uebungsblatt.html">4 - Übungsblatt (Faktorielle Umfrageexperimente)</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-center sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Fortgeschrittene quantitative Methoden</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/dariatisch/wup2024" title="GitHub" class="quarto-navigation-tool px-1" aria-label="GitHub"><i class="bi bi-github"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Kursinformationen</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Zeitplan und Dateien</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../schedule.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Übersicht</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../slides/1_seminar.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1 - Seminar</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../slides/1_uebung.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1 - Übung</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../uebungen/1_uebungsblatt.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1 - Übungsblatt</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../slides/2_seminar.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2 - Seminar (Paneldaten)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../uebungen/2_uebungsblatt.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2 - Übungsblatt (Paneldaten)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../slides/3_seminar.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">3 - Seminar (Ereignisdaten)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../uebungen/3_uebungsblatt.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">3 - Übungsblatt (Ereignisdaten)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../slides/4_seminar.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">4 - Seminar (Faktorielle Umfrageexperimente)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../uebungen/4_uebungsblatt.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">4 - Übungsblatt (Faktorielle Umfrageexperimente)</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#organisation" id="toc-organisation" class="nav-link active" data-scroll-target="#organisation"><span class="header-section-number">1</span> Organisation</a>
  <ul class="collapse">
  <li><a href="#arbeitsverzeichnis-festsetzen" id="toc-arbeitsverzeichnis-festsetzen" class="nav-link" data-scroll-target="#arbeitsverzeichnis-festsetzen"><span class="header-section-number">1.1</span> Arbeitsverzeichnis festsetzen</a></li>
  <li><a href="#packages-installieren-und-laden" id="toc-packages-installieren-und-laden" class="nav-link" data-scroll-target="#packages-installieren-und-laden"><span class="header-section-number">1.2</span> Packages installieren und laden</a></li>
  <li><a href="#einführung" id="toc-einführung" class="nav-link" data-scroll-target="#einführung"><span class="header-section-number">1.3</span> Einführung</a></li>
  <li><a href="#daten-einlesen" id="toc-daten-einlesen" class="nav-link" data-scroll-target="#daten-einlesen"><span class="header-section-number">1.4</span> Daten einlesen</a></li>
  <li><a href="#variablenlabels-einlesen" id="toc-variablenlabels-einlesen" class="nav-link" data-scroll-target="#variablenlabels-einlesen"><span class="header-section-number">1.5</span> Variablenlabels einlesen</a></li>
  <li><a href="#value-labels-einlesen" id="toc-value-labels-einlesen" class="nav-link" data-scroll-target="#value-labels-einlesen"><span class="header-section-number">1.6</span> Value labels einlesen</a></li>
  </ul></li>
  <li><a href="#fallzahlen" id="toc-fallzahlen" class="nav-link" data-scroll-target="#fallzahlen"><span class="header-section-number">2</span> Fallzahlen</a>
  <ul class="collapse">
  <li><a href="#wie-viele-beobachtungen-enthält-der-datensatz" id="toc-wie-viele-beobachtungen-enthält-der-datensatz" class="nav-link" data-scroll-target="#wie-viele-beobachtungen-enthält-der-datensatz"><span class="header-section-number">2.1</span> Wie viele Beobachtungen enthält der Datensatz?</a></li>
  <li><a href="#wie-viele-befragte-personen-sind-im-datensatz-enthalten" id="toc-wie-viele-befragte-personen-sind-im-datensatz-enthalten" class="nav-link" data-scroll-target="#wie-viele-befragte-personen-sind-im-datensatz-enthalten"><span class="header-section-number">2.2</span> Wie viele befragte Personen sind im Datensatz enthalten?</a></li>
  <li><a href="#wie-viele-vignetten-hat-jede-befragte-person-bewertet" id="toc-wie-viele-vignetten-hat-jede-befragte-person-bewertet" class="nav-link" data-scroll-target="#wie-viele-vignetten-hat-jede-befragte-person-bewertet"><span class="header-section-number">2.3</span> Wie viele Vignetten hat jede befragte Person bewertet?</a></li>
  <li><a href="#wie-viele-vignetten-gibt-es" id="toc-wie-viele-vignetten-gibt-es" class="nav-link" data-scroll-target="#wie-viele-vignetten-gibt-es"><span class="header-section-number">2.4</span> Wie viele Vignetten gibt es?</a></li>
  <li><a href="#wie-viele-decks-gibt-es" id="toc-wie-viele-decks-gibt-es" class="nav-link" data-scroll-target="#wie-viele-decks-gibt-es"><span class="header-section-number">2.5</span> Wie viele Decks gibt es?</a></li>
  </ul></li>
  <li><a href="#deskriptive-statistik" id="toc-deskriptive-statistik" class="nav-link" data-scroll-target="#deskriptive-statistik"><span class="header-section-number">3</span> Deskriptive Statistik</a>
  <ul class="collapse">
  <li><a href="#replikation-tabelle-2" id="toc-replikation-tabelle-2" class="nav-link" data-scroll-target="#replikation-tabelle-2"><span class="header-section-number">3.1</span> Replikation Tabelle 2</a></li>
  <li><a href="#replikation-figure-1" id="toc-replikation-figure-1" class="nav-link" data-scroll-target="#replikation-figure-1"><span class="header-section-number">3.2</span> Replikation Figure 1</a></li>
  </ul></li>
  <li><a href="#regression" id="toc-regression" class="nav-link" data-scroll-target="#regression"><span class="header-section-number">4</span> Regression</a>
  <ul class="collapse">
  <li><a href="#replikation-von-tabelle-3" id="toc-replikation-von-tabelle-3" class="nav-link" data-scroll-target="#replikation-von-tabelle-3"><span class="header-section-number">4.1</span> Replikation von Tabelle 3</a></li>
  </ul></li>
  <li><a href="#render" id="toc-render" class="nav-link" data-scroll-target="#render"><span class="header-section-number">5</span> Render</a></li>
  <li><a href="#weiterführende-literatur" id="toc-weiterführende-literatur" class="nav-link" data-scroll-target="#weiterführende-literatur"><span class="header-section-number">6</span> Weiterführende Literatur</a></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="4_uebungsblatt.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../schedule.html">Zeitplan und Dateien</a></li><li class="breadcrumb-item"><a href="../uebungen/4_uebungsblatt.html">4 - Übungsblatt (Faktorielle Umfrageexperimente)</a></li></ol></nav>
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">4. Übungsblatt (Faktorielle Umfrageexperimente)</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Daria Tisch </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="organisation" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Organisation</h1>
<section id="arbeitsverzeichnis-festsetzen" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="arbeitsverzeichnis-festsetzen"><span class="header-section-number">1.1</span> Arbeitsverzeichnis festsetzen</h2>
</section>
<section id="packages-installieren-und-laden" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="packages-installieren-und-laden"><span class="header-section-number">1.2</span> Packages installieren und laden</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="co"># Packages</span></span>
<span id="cb1-2"><a href="#cb1-2"></a>pkgs <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb1-3"><a href="#cb1-3"></a>  <span class="st">"tidyverse"</span>,</span>
<span id="cb1-4"><a href="#cb1-4"></a>  <span class="st">"sjPlot"</span>,</span>
<span id="cb1-5"><a href="#cb1-5"></a>  <span class="st">"haven"</span>,</span>
<span id="cb1-6"><a href="#cb1-6"></a>  <span class="st">"labelled"</span> ,</span>
<span id="cb1-7"><a href="#cb1-7"></a>  <span class="st">"sandwich"</span>,</span>
<span id="cb1-8"><a href="#cb1-8"></a>  <span class="st">"lmtest"</span></span>
<span id="cb1-9"><a href="#cb1-9"></a>) </span>
<span id="cb1-10"><a href="#cb1-10"></a></span>
<span id="cb1-11"><a href="#cb1-11"></a><span class="do">## Install uninstalled packages</span></span>
<span id="cb1-12"><a href="#cb1-12"></a><span class="fu">lapply</span>(pkgs[<span class="sc">!</span>(pkgs <span class="sc">%in%</span> <span class="fu">installed.packages</span>())], install.packages)</span>
<span id="cb1-13"><a href="#cb1-13"></a></span>
<span id="cb1-14"><a href="#cb1-14"></a><span class="do">## Load all packages to library</span></span>
<span id="cb1-15"><a href="#cb1-15"></a><span class="fu">lapply</span>(pkgs, library, <span class="at">character.only =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="einführung" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="einführung"><span class="header-section-number">1.3</span> Einführung</h2>
<p>In dieser Übung replizieren wir die Ergebnisse folgender Studie:</p>
<p>Tisch, Daria, and Tamara Gutfleisch. ‘Unequal but Just? Experimental Evidence on Distributive Justice Principles in Parental Inter Vivos Transfers’. Socio-Economic Review 21, no. 3 (2023): 1369–90.</p>
<p>Der Datensatz kann <a href="XXX">hier</a> heruntergeladen werden.</p>
<p>Schenkungen von Eltern an deren Kinder sind von der moralischen Entscheidung geprägt, welches Kind wie viel erhalten soll. So können Eltern Schenkungen zwischen Kindern nach unterschiedlichen Gerechtigkeitsprinzipien aufteilen. Wenden sie das Gleichheitsprinzip an, schenken sie allen Kindern gleich viel. Wenden sie das Bedürfnisprinzip an, schenken sie den Kindern, die größere Bedürfnisse haben (z. B. Arbeitslosigkeit), mehr. Wenden sie das Austauschprinzip an, schenken sie den Kindern mehr, die im Gegenzug mehr für die Eltern machen (z. B. im Haushalt der Eltern helfen). Wenden sie das Anspruchsprinzip an, schenken sie den Kindern mehr, die bestimmte angeborene Statuscharakteristiken haben (z. B. Erstgeborene). Wir wollen untersuchen, inwiefern diese Prinzipien im Kontext von elterlichen Schenkungen von den Befragten befürwortet werden. Unterstützen die Befragten diese Prinzipien im selben Maße für Töchter und Söhne?</p>
</section>
<section id="daten-einlesen" class="level2" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="daten-einlesen"><span class="header-section-number">1.4</span> Daten einlesen</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="co"># Load the data file</span></span>
<span id="cb2-2"><a href="#cb2-2"></a>df <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"../daten/just_transfers.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="variablenlabels-einlesen" class="level2" data-number="1.5">
<h2 data-number="1.5" class="anchored" data-anchor-id="variablenlabels-einlesen"><span class="header-section-number">1.5</span> Variablenlabels einlesen</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="co"># Load the variable labels</span></span>
<span id="cb3-2"><a href="#cb3-2"></a>variable_labels <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"../daten/just_transfers_variable_labels.csv"</span>, <span class="at">row.names =</span> <span class="dv">1</span>, <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>)</span>
<span id="cb3-3"><a href="#cb3-3"></a></span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="co"># View variable labels</span></span>
<span id="cb3-5"><a href="#cb3-5"></a><span class="co">#print(variable_labels)</span></span>
<span id="cb3-6"><a href="#cb3-6"></a></span>
<span id="cb3-7"><a href="#cb3-7"></a></span>
<span id="cb3-8"><a href="#cb3-8"></a><span class="co"># Loop through the labels and assign them to variables in the dataset</span></span>
<span id="cb3-9"><a href="#cb3-9"></a><span class="cf">for</span> (var <span class="cf">in</span> <span class="fu">names</span>(variable_labels)) {</span>
<span id="cb3-10"><a href="#cb3-10"></a>  <span class="cf">if</span> (var <span class="sc">%in%</span> <span class="fu">names</span>(df)) {</span>
<span id="cb3-11"><a href="#cb3-11"></a>    <span class="fu">var_label</span>(df[[var]]) <span class="ot">&lt;-</span> variable_labels[[var]]</span>
<span id="cb3-12"><a href="#cb3-12"></a>  }</span>
<span id="cb3-13"><a href="#cb3-13"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="value-labels-einlesen" class="level2" data-number="1.6">
<h2 data-number="1.6" class="anchored" data-anchor-id="value-labels-einlesen"><span class="header-section-number">1.6</span> Value labels einlesen</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="co"># Load the value labels</span></span>
<span id="cb4-2"><a href="#cb4-2"></a>value_labels <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"../daten/value_labels.csv"</span>, <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>)</span>
<span id="cb4-3"><a href="#cb4-3"></a></span>
<span id="cb4-4"><a href="#cb4-4"></a><span class="co"># View value labels</span></span>
<span id="cb4-5"><a href="#cb4-5"></a><span class="fu">head</span>(value_labels)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["variable"],"name":[1],"type":["chr"],"align":["left"]},{"label":["label"],"name":[2],"type":["chr"],"align":["left"]},{"label":["value"],"name":[3],"type":["int"],"align":["right"]}],"data":[{"1":"firstborn","2":"Son firstborn","3":"1","_rn_":"1"},{"1":"firstborn","2":"Twins","3":"2","_rn_":"2"},{"1":"firstborn","2":"Daughter firstborn","3":"3","_rn_":"3"},{"1":"need","2":"Son unemployed","3":"1","_rn_":"4"},{"1":"need","2":"Equal earnings","3":"2","_rn_":"5"},{"1":"need","2":"Daughter unemployed","3":"3","_rn_":"6"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
</section>
<section id="fallzahlen" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Fallzahlen</h1>
<section id="wie-viele-beobachtungen-enthält-der-datensatz" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="wie-viele-beobachtungen-enthält-der-datensatz"><span class="header-section-number">2.1</span> Wie viele Beobachtungen enthält der Datensatz?</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="fu">nrow</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4284</code></pre>
</div>
</div>
</section>
<section id="wie-viele-befragte-personen-sind-im-datensatz-enthalten" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="wie-viele-befragte-personen-sind-im-datensatz-enthalten"><span class="header-section-number">2.2</span> Wie viele befragte Personen sind im Datensatz enthalten?</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="fu">length</span>(<span class="fu">unique</span>(df<span class="sc">$</span>id_resp))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 714</code></pre>
</div>
</div>
</section>
<section id="wie-viele-vignetten-hat-jede-befragte-person-bewertet" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="wie-viele-vignetten-hat-jede-befragte-person-bewertet"><span class="header-section-number">2.3</span> Wie viele Vignetten hat jede befragte Person bewertet?</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="fu">length</span>(<span class="fu">unique</span>(df<span class="sc">$</span>id_within))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="fu">table</span>(df<span class="sc">$</span>id_within)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
   1    2    3 
1428 1428 1428 </code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="dv">1428</span><span class="sc">/</span><span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 714</code></pre>
</div>
</div>
</section>
<section id="wie-viele-vignetten-gibt-es" class="level2" data-number="2.4">
<h2 data-number="2.4" class="anchored" data-anchor-id="wie-viele-vignetten-gibt-es"><span class="header-section-number">2.4</span> Wie viele Vignetten gibt es?</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="fu">table</span>(df<span class="sc">$</span>id_vignette)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
  1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16  17  18  19  20 
134 134 134 162 162 162 180 180 180 168 168 168 146 146 146 174 174 174 154 154 
 21  22  23  24  25  26  27 
154 152 152 152 158 158 158 </code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="fu">length</span>(<span class="fu">unique</span>(df<span class="sc">$</span>id_vignette))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 27</code></pre>
</div>
</div>
</section>
<section id="wie-viele-decks-gibt-es" class="level2" data-number="2.5">
<h2 data-number="2.5" class="anchored" data-anchor-id="wie-viele-decks-gibt-es"><span class="header-section-number">2.5</span> Wie viele Decks gibt es?</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a><span class="fu">table</span>(df<span class="sc">$</span>deck)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
  1   2   3   4   5   6   7   8   9 
402 486 540 504 438 522 462 456 474 </code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a><span class="fu">length</span>(<span class="fu">unique</span>(df<span class="sc">$</span>deck))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 9</code></pre>
</div>
</div>
</section>
</section>
<section id="deskriptive-statistik" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Deskriptive Statistik</h1>
<section id="replikation-tabelle-2" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="replikation-tabelle-2"><span class="header-section-number">3.1</span> Replikation Tabelle 2</h2>
<p>Nun wollen wir Tabelle 2 aus dem Artikel replizieren.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a><span class="co"># Filter für die Daten anwenden</span></span>
<span id="cb23-2"><a href="#cb23-2"></a>filtered_data <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb23-3"><a href="#cb23-3"></a>  <span class="fu">filter</span>(id_within <span class="sc">==</span> <span class="dv">1</span>, daughter <span class="sc">==</span> <span class="dv">1</span>)</span>
<span id="cb23-4"><a href="#cb23-4"></a></span>
<span id="cb23-5"><a href="#cb23-5"></a><span class="co"># Deskriptive Statistiken berechnen</span></span>
<span id="cb23-6"><a href="#cb23-6"></a>descriptive_stats <span class="ot">&lt;-</span> filtered_data <span class="sc">%&gt;%</span></span>
<span id="cb23-7"><a href="#cb23-7"></a>  <span class="fu">summarise</span>(</span>
<span id="cb23-8"><a href="#cb23-8"></a>    <span class="at">Female_Mean =</span> <span class="fu">mean</span>(female, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb23-9"><a href="#cb23-9"></a>    <span class="at">Female_SD =</span> <span class="fu">sd</span>(female, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb23-10"><a href="#cb23-10"></a>    <span class="at">Female_Min =</span> <span class="fu">min</span>(female, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb23-11"><a href="#cb23-11"></a>    <span class="at">Female_Max =</span> <span class="fu">max</span>(female, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb23-12"><a href="#cb23-12"></a>    <span class="at">Female_N =</span> <span class="fu">sum</span>(<span class="sc">!</span><span class="fu">is.na</span>(female)),</span>
<span id="cb23-13"><a href="#cb23-13"></a>    </span>
<span id="cb23-14"><a href="#cb23-14"></a>    <span class="at">Age_Mean =</span> <span class="fu">mean</span>(age, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb23-15"><a href="#cb23-15"></a>    <span class="at">Age_SD =</span> <span class="fu">sd</span>(age, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb23-16"><a href="#cb23-16"></a>    <span class="at">Age_Min =</span> <span class="fu">min</span>(age, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb23-17"><a href="#cb23-17"></a>    <span class="at">Age_Max =</span> <span class="fu">max</span>(age, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb23-18"><a href="#cb23-18"></a>    <span class="at">Age_N =</span> <span class="fu">sum</span>(<span class="sc">!</span><span class="fu">is.na</span>(age)),</span>
<span id="cb23-19"><a href="#cb23-19"></a>    </span>
<span id="cb23-20"><a href="#cb23-20"></a>    <span class="at">Child_Mean =</span> <span class="fu">mean</span>(child, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb23-21"><a href="#cb23-21"></a>    <span class="at">Child_SD =</span> <span class="fu">sd</span>(child, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb23-22"><a href="#cb23-22"></a>    <span class="at">Child_Min =</span> <span class="fu">min</span>(child, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb23-23"><a href="#cb23-23"></a>    <span class="at">Child_Max =</span> <span class="fu">max</span>(child, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb23-24"><a href="#cb23-24"></a>    <span class="at">Child_N =</span> <span class="fu">sum</span>(<span class="sc">!</span><span class="fu">is.na</span>(child)),</span>
<span id="cb23-25"><a href="#cb23-25"></a>    </span>
<span id="cb23-26"><a href="#cb23-26"></a>    <span class="at">Mig_Mean =</span> <span class="fu">mean</span>(mig, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb23-27"><a href="#cb23-27"></a>    <span class="at">Mig_SD =</span> <span class="fu">sd</span>(mig, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb23-28"><a href="#cb23-28"></a>    <span class="at">Mig_Min =</span> <span class="fu">min</span>(mig, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb23-29"><a href="#cb23-29"></a>    <span class="at">Mig_Max =</span> <span class="fu">max</span>(mig, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb23-30"><a href="#cb23-30"></a>    <span class="at">Mig_N =</span> <span class="fu">sum</span>(<span class="sc">!</span><span class="fu">is.na</span>(mig)),</span>
<span id="cb23-31"><a href="#cb23-31"></a>    </span>
<span id="cb23-32"><a href="#cb23-32"></a>    <span class="at">Gifted_Mean =</span> <span class="fu">mean</span>(gifted, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb23-33"><a href="#cb23-33"></a>    <span class="at">Gifted_SD =</span> <span class="fu">sd</span>(gifted, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb23-34"><a href="#cb23-34"></a>    <span class="at">Gifted_Min =</span> <span class="fu">min</span>(gifted, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb23-35"><a href="#cb23-35"></a>    <span class="at">Gifted_Max =</span> <span class="fu">max</span>(gifted, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb23-36"><a href="#cb23-36"></a>    <span class="at">Gifted_N =</span> <span class="fu">sum</span>(<span class="sc">!</span><span class="fu">is.na</span>(gifted)),</span>
<span id="cb23-37"><a href="#cb23-37"></a>    </span>
<span id="cb23-38"><a href="#cb23-38"></a>    <span class="at">IV_Received_Mean =</span> <span class="fu">mean</span>(iv_received, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb23-39"><a href="#cb23-39"></a>    <span class="at">IV_Received_SD =</span> <span class="fu">sd</span>(iv_received, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb23-40"><a href="#cb23-40"></a>    <span class="at">IV_Received_Min =</span> <span class="fu">min</span>(iv_received, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb23-41"><a href="#cb23-41"></a>    <span class="at">IV_Received_Max =</span> <span class="fu">max</span>(iv_received, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb23-42"><a href="#cb23-42"></a>    <span class="at">IV_Received_N =</span> <span class="fu">sum</span>(<span class="sc">!</span><span class="fu">is.na</span>(iv_received)),</span>
<span id="cb23-43"><a href="#cb23-43"></a>    </span>
<span id="cb23-44"><a href="#cb23-44"></a>    <span class="at">ABI_Mean =</span> <span class="fu">mean</span>(abi, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb23-45"><a href="#cb23-45"></a>    <span class="at">ABI_SD =</span> <span class="fu">sd</span>(abi, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb23-46"><a href="#cb23-46"></a>    <span class="at">ABI_Min =</span> <span class="fu">min</span>(abi, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb23-47"><a href="#cb23-47"></a>    <span class="at">ABI_Max =</span> <span class="fu">max</span>(abi, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb23-48"><a href="#cb23-48"></a>    <span class="at">ABI_N =</span> <span class="fu">sum</span>(<span class="sc">!</span><span class="fu">is.na</span>(abi))</span>
<span id="cb23-49"><a href="#cb23-49"></a>  )</span>
<span id="cb23-50"><a href="#cb23-50"></a></span>
<span id="cb23-51"><a href="#cb23-51"></a><span class="co"># Umstrukturierung der Tabelle</span></span>
<span id="cb23-52"><a href="#cb23-52"></a>descriptive_stats_long <span class="ot">&lt;-</span> descriptive_stats <span class="sc">%&gt;%</span></span>
<span id="cb23-53"><a href="#cb23-53"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb23-54"><a href="#cb23-54"></a>    <span class="at">cols =</span> <span class="fu">everything</span>(),</span>
<span id="cb23-55"><a href="#cb23-55"></a>    <span class="at">names_to =</span> <span class="fu">c</span>(<span class="st">"Variable"</span>, <span class="st">".value"</span>),</span>
<span id="cb23-56"><a href="#cb23-56"></a>    <span class="at">names_pattern =</span> <span class="st">"(.*)_(.*)"</span></span>
<span id="cb23-57"><a href="#cb23-57"></a>  )</span>
<span id="cb23-58"><a href="#cb23-58"></a></span>
<span id="cb23-59"><a href="#cb23-59"></a><span class="co"># Tabelle mit sjPlot anzeigen</span></span>
<span id="cb23-60"><a href="#cb23-60"></a><span class="fu">tab_df</span>(</span>
<span id="cb23-61"><a href="#cb23-61"></a>  descriptive_stats_long,</span>
<span id="cb23-62"><a href="#cb23-62"></a>  <span class="at">title =</span> <span class="st">"Descriptive Statistics of Respondent Characteristics"</span>,</span>
<span id="cb23-63"><a href="#cb23-63"></a>  <span class="at">col.header =</span> <span class="fu">c</span>(<span class="st">"Variable"</span>, <span class="st">"Mean"</span>, <span class="st">"SD"</span>, <span class="st">"Min"</span>, <span class="st">"Max"</span>, <span class="st">"N"</span>)</span>
<span id="cb23-64"><a href="#cb23-64"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<caption>Descriptive Statistics of Respondent Characteristics</caption>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th" style="text-align: center; border-top: double; font-style: italic; font-weight: normal; padding: 0.2cm; border-bottom: 1px solid black;">Variable</td>
<td data-quarto-table-cell-role="th" style="text-align: center; border-top: double; font-style: italic; font-weight: normal; padding: 0.2cm; border-bottom: 1px solid black;">Mean</td>
<td data-quarto-table-cell-role="th" style="text-align: center; border-top: double; font-style: italic; font-weight: normal; padding: 0.2cm; border-bottom: 1px solid black;">SD</td>
<td data-quarto-table-cell-role="th" style="text-align: center; border-top: double; font-style: italic; font-weight: normal; padding: 0.2cm; border-bottom: 1px solid black;">Min</td>
<td data-quarto-table-cell-role="th" style="text-align: center; border-top: double; font-style: italic; font-weight: normal; padding: 0.2cm; border-bottom: 1px solid black;">Max</td>
<td data-quarto-table-cell-role="th" style="text-align: center; border-top: double; font-style: italic; font-weight: normal; padding: 0.2cm; border-bottom: 1px solid black;">N</td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">Female</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.62</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.49</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">702</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">Age</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">44.83</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">15.08</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">21</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">73</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">705</td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">Child</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.50</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.50</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">707</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">Mig</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.12</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.33</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">704</td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">Gifted</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.66</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.47</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">353</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">IV_Received</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.87</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.34</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">711</td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top; border-bottom: double;">ABI</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top; border-bottom: double;">0.86</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top; border-bottom: double;">0.35</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top; border-bottom: double;">0</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top; border-bottom: double;">1</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top; border-bottom: double;">690</td>
</tr>
</tbody>
</table>


</div>
</div>
</section>
<section id="replikation-figure-1" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="replikation-figure-1"><span class="header-section-number">3.2</span> Replikation Figure 1</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a><span class="co"># Create the histogram</span></span>
<span id="cb24-2"><a href="#cb24-2"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x =</span> child_vig)) <span class="sc">+</span></span>
<span id="cb24-3"><a href="#cb24-3"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">y =</span> ..count..<span class="sc">/</span><span class="fu">sum</span>(..count..)<span class="sc">*</span><span class="dv">100</span>), <span class="at">binwidth =</span> <span class="dv">250</span>, </span>
<span id="cb24-4"><a href="#cb24-4"></a>                 <span class="at">fill =</span> <span class="st">"blue"</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb24-5"><a href="#cb24-5"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">percent_format</span>(<span class="at">scale =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb24-6"><a href="#cb24-6"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Histogram"</span>,</span>
<span id="cb24-7"><a href="#cb24-7"></a>       <span class="at">x =</span> <span class="st">"Child's amount"</span>,</span>
<span id="cb24-8"><a href="#cb24-8"></a>       <span class="at">y =</span> <span class="st">"Percent"</span>) <span class="sc">+</span></span>
<span id="cb24-9"><a href="#cb24-9"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: The dot-dot notation (`..count..`) was deprecated in ggplot2 3.4.0.
ℹ Please use `after_stat(count)` instead.</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="4_uebungsblatt_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="regression" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> Regression</h1>
<section id="replikation-von-tabelle-3" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="replikation-von-tabelle-3"><span class="header-section-number">4.1</span> Replikation von Tabelle 3</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a><span class="co"># Ensure reference category is set to 2 for each factor</span></span>
<span id="cb26-2"><a href="#cb26-2"></a>df<span class="sc">$</span>g_firstborn <span class="ot">&lt;-</span> <span class="fu">relevel</span>(<span class="fu">as.factor</span>(df<span class="sc">$</span>g_firstborn), <span class="at">ref =</span> <span class="st">"2"</span>)</span>
<span id="cb26-3"><a href="#cb26-3"></a>df<span class="sc">$</span>g_help <span class="ot">&lt;-</span> <span class="fu">relevel</span>(<span class="fu">as.factor</span>(df<span class="sc">$</span>g_help), <span class="at">ref =</span> <span class="st">"2"</span>)</span>
<span id="cb26-4"><a href="#cb26-4"></a>df<span class="sc">$</span>g_need <span class="ot">&lt;-</span> <span class="fu">relevel</span>(<span class="fu">as.factor</span>(df<span class="sc">$</span>g_need), <span class="at">ref =</span> <span class="st">"2"</span>)</span>
<span id="cb26-5"><a href="#cb26-5"></a></span>
<span id="cb26-6"><a href="#cb26-6"></a><span class="co"># Run the regression model</span></span>
<span id="cb26-7"><a href="#cb26-7"></a>model <span class="ot">&lt;-</span> <span class="fu">lm</span>(child_vig <span class="sc">~</span> daughter <span class="sc">*</span> g_firstborn <span class="sc">+</span></span>
<span id="cb26-8"><a href="#cb26-8"></a>                      g_help <span class="sc">*</span> daughter <span class="sc">+</span></span>
<span id="cb26-9"><a href="#cb26-9"></a>                      g_need <span class="sc">*</span> daughter, </span>
<span id="cb26-10"><a href="#cb26-10"></a>            <span class="at">data =</span> df)</span>
<span id="cb26-11"><a href="#cb26-11"></a></span>
<span id="cb26-12"><a href="#cb26-12"></a><span class="co"># Clustered standard errors</span></span>
<span id="cb26-13"><a href="#cb26-13"></a>clustered_se <span class="ot">&lt;-</span> <span class="fu">coeftest</span>(model, <span class="at">vcov =</span> vcovCL, <span class="at">cluster =</span> <span class="sc">~</span> id_resp)</span>
<span id="cb26-14"><a href="#cb26-14"></a></span>
<span id="cb26-15"><a href="#cb26-15"></a><span class="co"># Output the results</span></span>
<span id="cb26-16"><a href="#cb26-16"></a><span class="fu">summary</span>(model)         <span class="co"># Regression summary</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = child_vig ~ daughter * g_firstborn + g_help * daughter + 
    g_need * daughter, data = df)

Residuals:
    Min      1Q  Median      3Q     Max 
-4989.0  -287.8     0.0   287.8  4989.0 

Coefficients:
                      Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)           4967.074     40.125 123.791  &lt; 2e-16 ***
daughter                65.853     56.745   1.161   0.2459    
g_firstborn1            37.237     36.629   1.017   0.3094    
g_firstborn3             6.346     36.615   0.173   0.8624    
g_help1                320.686     36.613   8.759  &lt; 2e-16 ***
g_help3               -207.280     36.619  -5.660 1.61e-08 ***
g_need1                205.191     36.615   5.604 2.23e-08 ***
g_need3               -313.954     36.599  -8.578  &lt; 2e-16 ***
daughter:g_firstborn1  -43.583     51.792  -0.842   0.4001    
daughter:g_firstborn3  -43.583     51.792  -0.842   0.4001    
daughter:g_help1      -113.406     51.783  -2.190   0.0286 *  
daughter:g_help3      -113.406     51.783  -2.190   0.0286 *  
daughter:g_need1       108.763     51.770   2.101   0.0357 *  
daughter:g_need3       108.763     51.770   2.101   0.0357 *  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 691.3 on 4270 degrees of freedom
Multiple R-squared:  0.1624,    Adjusted R-squared:  0.1599 
F-statistic:  63.7 on 13 and 4270 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a><span class="fu">print</span>(clustered_se)    <span class="co"># Results with clustered SE</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
t test of coefficients:

                       Estimate Std. Error  t value  Pr(&gt;|t|)    
(Intercept)           4967.0737    37.3969 132.8206 &lt; 2.2e-16 ***
daughter                65.8526    74.7937   0.8805   0.37866    
g_firstborn1            37.2371    43.2121   0.8617   0.38889    
g_firstborn3             6.3457    43.4854   0.1459   0.88399    
g_help1                320.6862    38.9626   8.2306 2.449e-16 ***
g_help3               -207.2799    37.9277  -5.4651 4.889e-08 ***
g_need1                205.1905    38.6142   5.3139 1.128e-07 ***
g_need3               -313.9540    39.6818  -7.9118 3.208e-15 ***
daughter:g_firstborn1  -43.5827    76.4992  -0.5697   0.56890    
daughter:g_firstborn3  -43.5827    76.4992  -0.5697   0.56890    
daughter:g_help1      -113.4063    58.6378  -1.9340   0.05318 .  
daughter:g_help3      -113.4063    58.6378  -1.9340   0.05318 .  
daughter:g_need1       108.7634    61.2365   1.7761   0.07578 .  
daughter:g_need3       108.7634    61.2365   1.7761   0.07578 .  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1"></a><span class="fu">tab_model</span>(model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<colgroup>
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
</colgroup>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th" style="text-align: center; border-top: double; font-style: normal; font-weight: bold; padding: 0.2cm;">&nbsp;</td>
<td colspan="3" data-quarto-table-cell-role="th" style="text-align: center; border-top: double; font-style: normal; font-weight: bold; padding: 0.2cm;">Child's amount of inter<br>
vivos</td>
</tr>
<tr class="even">
<td style="text-align: center; border-bottom: 1px solid; font-style: italic; font-weight: normal;">Predictors</td>
<td style="text-align: center; border-bottom: 1px solid; font-style: italic; font-weight: normal;">Estimates</td>
<td style="text-align: center; border-bottom: 1px solid; font-style: italic; font-weight: normal;">CI</td>
<td style="text-align: center; border-bottom: 1px solid; font-style: italic; font-weight: normal;">p</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">(Intercept)</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">4967.07</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">4888.41&nbsp;–&nbsp;5045.74</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>&lt;0.001</strong></td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">Focal vignette person<br>
daughter</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">65.85</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">-45.40&nbsp;–&nbsp;177.10</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.246</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">g firstborn: g firstborn<br>
1</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">37.24</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">-34.58&nbsp;–&nbsp;109.05</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.309</td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">g firstborn: g firstborn<br>
3</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">6.35</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">-65.44&nbsp;–&nbsp;78.13</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.862</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">g help: g help 1</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">320.69</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">248.91&nbsp;–&nbsp;392.47</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>&lt;0.001</strong></td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">g help: g help 3</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">-207.28</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">-279.07&nbsp;–&nbsp;-135.49</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>&lt;0.001</strong></td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">g need: g need 1</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">205.19</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">133.41&nbsp;–&nbsp;276.98</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>&lt;0.001</strong></td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">g need: g need 3</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">-313.95</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">-385.71&nbsp;–&nbsp;-242.20</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>&lt;0.001</strong></td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">daughter:g_firstborn1</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">-43.58</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">-145.12&nbsp;–&nbsp;57.96</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.400</td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">daughter:g_firstborn3</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">-43.58</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">-145.12&nbsp;–&nbsp;57.96</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.400</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">daughter:g_help1</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">-113.41</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">-214.93&nbsp;–&nbsp;-11.89</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>0.029</strong></td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">daughter:g_help3</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">-113.41</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">-214.93&nbsp;–&nbsp;-11.89</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>0.029</strong></td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">daughter:g_need1</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">108.76</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">7.27&nbsp;–&nbsp;210.26</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>0.036</strong></td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">daughter:g_need3</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">108.76</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">7.27&nbsp;–&nbsp;210.26</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>0.036</strong></td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top; padding-top: 0.1cm; padding-bottom: 0.1cm; border-top: 1px solid;">Observations</td>
<td colspan="3" style="text-align: left; padding: 0.2cm; vertical-align: top; padding-top: 0.1cm; padding-bottom: 0.1cm; border-top: 1px solid;">4284</td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top; padding-top: 0.1cm; padding-bottom: 0.1cm;">R<sup>2</sup> / R<sup>2</sup> adjusted</td>
<td colspan="3" style="text-align: left; padding: 0.2cm; vertical-align: top; padding-top: 0.1cm; padding-bottom: 0.1cm;">0.162 / 0.160</td>
</tr>
</tbody>
</table>


</div>
</div>
</section>
</section>
<section id="render" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> Render</h1>
<p>Wandle dieses Dokument in ein PDF und ein HTML Dokument um.</p>
</section>
<section id="weiterführende-literatur" class="level1" data-number="6">
<h1 data-number="6"><span class="header-section-number">6</span> Weiterführende Literatur</h1>
<ul>
<li><a href="https://r4ds.had.co.nz/">R for Data Science</a></li>
</ul>


<!-- -->

</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/dariatisch\.github\.io\/wup2024\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../slides/4_seminar.html" class="pagination-link" aria-label="4 - Seminar  (Faktorielle Umfrageexperimente)">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">4 - Seminar (Faktorielle Umfrageexperimente)</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb31" data-shortcodes="false"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb31-1"><a href="#cb31-1"></a><span class="co">---</span></span>
<span id="cb31-2"><a href="#cb31-2"></a><span class="an">title:</span><span class="co"> "4. Übungsblatt (Faktorielle Umfrageexperimente)"</span></span>
<span id="cb31-3"><a href="#cb31-3"></a><span class="an">author:</span><span class="co"> "Daria Tisch"</span></span>
<span id="cb31-4"><a href="#cb31-4"></a><span class="an">format:</span><span class="co"> </span></span>
<span id="cb31-5"><a href="#cb31-5"></a><span class="co">  html:</span></span>
<span id="cb31-6"><a href="#cb31-6"></a><span class="co">    code-fold: true</span></span>
<span id="cb31-7"><a href="#cb31-7"></a><span class="co">    code-tools: true</span></span>
<span id="cb31-8"><a href="#cb31-8"></a><span class="co">    code-link: true</span></span>
<span id="cb31-9"><a href="#cb31-9"></a><span class="co">    df-print: paged</span></span>
<span id="cb31-10"><a href="#cb31-10"></a><span class="co">    code-line-numbers: true</span></span>
<span id="cb31-11"><a href="#cb31-11"></a><span class="co">  pdf: default</span></span>
<span id="cb31-12"><a href="#cb31-12"></a><span class="an">editor:</span><span class="co"> visual</span></span>
<span id="cb31-13"><a href="#cb31-13"></a><span class="an">number-sections:</span><span class="co"> true</span></span>
<span id="cb31-14"><a href="#cb31-14"></a><span class="co">---</span></span>
<span id="cb31-15"><a href="#cb31-15"></a></span>
<span id="cb31-16"><a href="#cb31-16"></a><span class="fu"># Organisation</span></span>
<span id="cb31-17"><a href="#cb31-17"></a></span>
<span id="cb31-18"><a href="#cb31-18"></a><span class="fu">## Arbeitsverzeichnis festsetzen</span></span>
<span id="cb31-19"><a href="#cb31-19"></a></span>
<span id="cb31-20"><a href="#cb31-20"></a><span class="in">```{r setup, include=FALSE}</span></span>
<span id="cb31-21"><a href="#cb31-21"></a><span class="in"># set working directory</span></span>
<span id="cb31-22"><a href="#cb31-22"></a><span class="in">knitr::opts_knit$set(root.dir = "D:/Seafile/main/teaching/2024_wuppertal/wup2024/uebungen")</span></span>
<span id="cb31-23"><a href="#cb31-23"></a></span>
<span id="cb31-24"><a href="#cb31-24"></a><span class="in">getwd(</span></span>
<span id="cb31-25"><a href="#cb31-25"></a><span class="in">  </span></span>
<span id="cb31-26"><a href="#cb31-26"></a><span class="in">)</span></span>
<span id="cb31-27"><a href="#cb31-27"></a><span class="in">```</span></span>
<span id="cb31-28"><a href="#cb31-28"></a></span>
<span id="cb31-29"><a href="#cb31-29"></a></span>
<span id="cb31-30"><a href="#cb31-30"></a><span class="fu">## Packages installieren und laden</span></span>
<span id="cb31-31"><a href="#cb31-31"></a></span>
<span id="cb31-34"><a href="#cb31-34"></a><span class="in">```{r}</span></span>
<span id="cb31-35"><a href="#cb31-35"></a><span class="co">#| echo: true</span></span>
<span id="cb31-36"><a href="#cb31-36"></a><span class="co">#| results: "hide"</span></span>
<span id="cb31-37"><a href="#cb31-37"></a><span class="co">#| warning: false</span></span>
<span id="cb31-38"><a href="#cb31-38"></a><span class="co"># Packages</span></span>
<span id="cb31-39"><a href="#cb31-39"></a>pkgs <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb31-40"><a href="#cb31-40"></a>  <span class="st">"tidyverse"</span>,</span>
<span id="cb31-41"><a href="#cb31-41"></a>  <span class="st">"sjPlot"</span>,</span>
<span id="cb31-42"><a href="#cb31-42"></a>  <span class="st">"haven"</span>,</span>
<span id="cb31-43"><a href="#cb31-43"></a>  <span class="st">"labelled"</span> ,</span>
<span id="cb31-44"><a href="#cb31-44"></a>  <span class="st">"sandwich"</span>,</span>
<span id="cb31-45"><a href="#cb31-45"></a>  <span class="st">"lmtest"</span></span>
<span id="cb31-46"><a href="#cb31-46"></a>) </span>
<span id="cb31-47"><a href="#cb31-47"></a></span>
<span id="cb31-48"><a href="#cb31-48"></a><span class="do">## Install uninstalled packages</span></span>
<span id="cb31-49"><a href="#cb31-49"></a><span class="fu">lapply</span>(pkgs[<span class="sc">!</span>(pkgs <span class="sc">%in%</span> <span class="fu">installed.packages</span>())], install.packages)</span>
<span id="cb31-50"><a href="#cb31-50"></a></span>
<span id="cb31-51"><a href="#cb31-51"></a><span class="do">## Load all packages to library</span></span>
<span id="cb31-52"><a href="#cb31-52"></a><span class="fu">lapply</span>(pkgs, library, <span class="at">character.only =</span> <span class="cn">TRUE</span>)</span>
<span id="cb31-53"><a href="#cb31-53"></a></span>
<span id="cb31-54"><a href="#cb31-54"></a><span class="in">```</span></span>
<span id="cb31-55"><a href="#cb31-55"></a></span>
<span id="cb31-56"><a href="#cb31-56"></a><span class="fu">## Einführung</span></span>
<span id="cb31-57"><a href="#cb31-57"></a></span>
<span id="cb31-58"><a href="#cb31-58"></a>In dieser Übung replizieren wir die Ergebnisse folgender Studie:</span>
<span id="cb31-59"><a href="#cb31-59"></a></span>
<span id="cb31-60"><a href="#cb31-60"></a>Tisch, Daria, and Tamara Gutfleisch. ‘Unequal but Just? Experimental Evidence on Distributive Justice Principles in Parental Inter Vivos Transfers’. Socio-Economic Review 21, no. 3 (2023): 1369–90.</span>
<span id="cb31-61"><a href="#cb31-61"></a></span>
<span id="cb31-62"><a href="#cb31-62"></a>Der Datensatz kann <span class="co">[</span><span class="ot">hier</span><span class="co">](XXX)</span> heruntergeladen werden.</span>
<span id="cb31-63"><a href="#cb31-63"></a></span>
<span id="cb31-64"><a href="#cb31-64"></a>Schenkungen von Eltern an deren Kinder sind von der moralischen Entscheidung geprägt, welches Kind wie viel erhalten soll. So können Eltern Schenkungen zwischen Kindern nach unterschiedlichen Gerechtigkeitsprinzipien aufteilen. Wenden sie das Gleichheitsprinzip an, schenken sie allen Kindern gleich viel. Wenden sie das Bedürfnisprinzip an, schenken sie den Kindern, die größere Bedürfnisse haben (z. B. Arbeitslosigkeit), mehr. Wenden sie das Austauschprinzip an, schenken sie den Kindern mehr, die im Gegenzug mehr für die Eltern machen (z. B. im Haushalt der Eltern helfen). Wenden sie das Anspruchsprinzip an, schenken sie den Kindern mehr, die bestimmte angeborene Statuscharakteristiken haben (z. B. Erstgeborene). Wir wollen untersuchen, inwiefern diese Prinzipien im Kontext von elterlichen Schenkungen von den Befragten befürwortet werden. Unterstützen die Befragten diese Prinzipien im selben Maße für Töchter und Söhne?</span>
<span id="cb31-65"><a href="#cb31-65"></a></span>
<span id="cb31-66"><a href="#cb31-66"></a><span class="fu">## Daten einlesen</span></span>
<span id="cb31-67"><a href="#cb31-67"></a></span>
<span id="cb31-70"><a href="#cb31-70"></a><span class="in">```{r}</span></span>
<span id="cb31-71"><a href="#cb31-71"></a><span class="co"># Load the data file</span></span>
<span id="cb31-72"><a href="#cb31-72"></a>df <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"../daten/just_transfers.csv"</span>)</span>
<span id="cb31-73"><a href="#cb31-73"></a></span>
<span id="cb31-74"><a href="#cb31-74"></a><span class="in">```</span></span>
<span id="cb31-75"><a href="#cb31-75"></a></span>
<span id="cb31-76"><a href="#cb31-76"></a><span class="fu">## Variablenlabels einlesen</span></span>
<span id="cb31-77"><a href="#cb31-77"></a></span>
<span id="cb31-80"><a href="#cb31-80"></a><span class="in">```{r}</span></span>
<span id="cb31-81"><a href="#cb31-81"></a><span class="co"># Load the variable labels</span></span>
<span id="cb31-82"><a href="#cb31-82"></a>variable_labels <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"../daten/just_transfers_variable_labels.csv"</span>, <span class="at">row.names =</span> <span class="dv">1</span>, <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>)</span>
<span id="cb31-83"><a href="#cb31-83"></a></span>
<span id="cb31-84"><a href="#cb31-84"></a><span class="co"># View variable labels</span></span>
<span id="cb31-85"><a href="#cb31-85"></a><span class="co">#print(variable_labels)</span></span>
<span id="cb31-86"><a href="#cb31-86"></a></span>
<span id="cb31-87"><a href="#cb31-87"></a></span>
<span id="cb31-88"><a href="#cb31-88"></a><span class="co"># Loop through the labels and assign them to variables in the dataset</span></span>
<span id="cb31-89"><a href="#cb31-89"></a><span class="cf">for</span> (var <span class="cf">in</span> <span class="fu">names</span>(variable_labels)) {</span>
<span id="cb31-90"><a href="#cb31-90"></a>  <span class="cf">if</span> (var <span class="sc">%in%</span> <span class="fu">names</span>(df)) {</span>
<span id="cb31-91"><a href="#cb31-91"></a>    <span class="fu">var_label</span>(df[[var]]) <span class="ot">&lt;-</span> variable_labels[[var]]</span>
<span id="cb31-92"><a href="#cb31-92"></a>  }</span>
<span id="cb31-93"><a href="#cb31-93"></a>}</span>
<span id="cb31-94"><a href="#cb31-94"></a></span>
<span id="cb31-95"><a href="#cb31-95"></a><span class="in">```</span></span>
<span id="cb31-96"><a href="#cb31-96"></a></span>
<span id="cb31-97"><a href="#cb31-97"></a><span class="fu">## Value labels einlesen</span></span>
<span id="cb31-98"><a href="#cb31-98"></a></span>
<span id="cb31-101"><a href="#cb31-101"></a><span class="in">```{r}</span></span>
<span id="cb31-102"><a href="#cb31-102"></a><span class="co"># Load the value labels</span></span>
<span id="cb31-103"><a href="#cb31-103"></a>value_labels <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"../daten/value_labels.csv"</span>, <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>)</span>
<span id="cb31-104"><a href="#cb31-104"></a></span>
<span id="cb31-105"><a href="#cb31-105"></a><span class="co"># View value labels</span></span>
<span id="cb31-106"><a href="#cb31-106"></a><span class="fu">head</span>(value_labels)</span>
<span id="cb31-107"><a href="#cb31-107"></a><span class="in">```</span></span>
<span id="cb31-108"><a href="#cb31-108"></a></span>
<span id="cb31-109"><a href="#cb31-109"></a></span>
<span id="cb31-110"><a href="#cb31-110"></a><span class="fu"># Fallzahlen</span></span>
<span id="cb31-111"><a href="#cb31-111"></a></span>
<span id="cb31-112"><a href="#cb31-112"></a><span class="fu">## Wie viele Beobachtungen enthält der Datensatz?</span></span>
<span id="cb31-115"><a href="#cb31-115"></a><span class="in">```{r}</span></span>
<span id="cb31-116"><a href="#cb31-116"></a><span class="fu">nrow</span>(df)</span>
<span id="cb31-117"><a href="#cb31-117"></a><span class="in">```</span></span>
<span id="cb31-118"><a href="#cb31-118"></a></span>
<span id="cb31-119"><a href="#cb31-119"></a><span class="fu">## Wie viele befragte Personen sind im Datensatz enthalten?</span></span>
<span id="cb31-122"><a href="#cb31-122"></a><span class="in">```{r}</span></span>
<span id="cb31-123"><a href="#cb31-123"></a><span class="fu">length</span>(<span class="fu">unique</span>(df<span class="sc">$</span>id_resp))</span>
<span id="cb31-124"><a href="#cb31-124"></a><span class="in">```</span></span>
<span id="cb31-125"><a href="#cb31-125"></a></span>
<span id="cb31-126"><a href="#cb31-126"></a><span class="fu">## Wie viele Vignetten hat jede befragte Person bewertet?</span></span>
<span id="cb31-127"><a href="#cb31-127"></a></span>
<span id="cb31-130"><a href="#cb31-130"></a><span class="in">```{r}</span></span>
<span id="cb31-131"><a href="#cb31-131"></a><span class="fu">length</span>(<span class="fu">unique</span>(df<span class="sc">$</span>id_within))</span>
<span id="cb31-132"><a href="#cb31-132"></a><span class="fu">table</span>(df<span class="sc">$</span>id_within)</span>
<span id="cb31-133"><a href="#cb31-133"></a><span class="dv">1428</span><span class="sc">/</span><span class="dv">2</span></span>
<span id="cb31-134"><a href="#cb31-134"></a><span class="in">```</span></span>
<span id="cb31-135"><a href="#cb31-135"></a></span>
<span id="cb31-136"><a href="#cb31-136"></a></span>
<span id="cb31-137"><a href="#cb31-137"></a><span class="fu">## Wie viele Vignetten gibt es?</span></span>
<span id="cb31-138"><a href="#cb31-138"></a></span>
<span id="cb31-141"><a href="#cb31-141"></a><span class="in">```{r}</span></span>
<span id="cb31-142"><a href="#cb31-142"></a><span class="fu">table</span>(df<span class="sc">$</span>id_vignette)</span>
<span id="cb31-143"><a href="#cb31-143"></a><span class="fu">length</span>(<span class="fu">unique</span>(df<span class="sc">$</span>id_vignette))</span>
<span id="cb31-144"><a href="#cb31-144"></a><span class="in">```</span></span>
<span id="cb31-145"><a href="#cb31-145"></a><span class="fu">## Wie viele Decks gibt es?</span></span>
<span id="cb31-146"><a href="#cb31-146"></a></span>
<span id="cb31-149"><a href="#cb31-149"></a><span class="in">```{r}</span></span>
<span id="cb31-150"><a href="#cb31-150"></a><span class="fu">table</span>(df<span class="sc">$</span>deck)</span>
<span id="cb31-151"><a href="#cb31-151"></a><span class="fu">length</span>(<span class="fu">unique</span>(df<span class="sc">$</span>deck))</span>
<span id="cb31-152"><a href="#cb31-152"></a><span class="in">```</span></span>
<span id="cb31-153"><a href="#cb31-153"></a></span>
<span id="cb31-154"><a href="#cb31-154"></a><span class="fu"># Deskriptive Statistik</span></span>
<span id="cb31-155"><a href="#cb31-155"></a></span>
<span id="cb31-156"><a href="#cb31-156"></a><span class="fu">## Replikation Tabelle 2</span></span>
<span id="cb31-157"><a href="#cb31-157"></a></span>
<span id="cb31-158"><a href="#cb31-158"></a>Nun wollen wir Tabelle 2 aus dem Artikel replizieren.</span>
<span id="cb31-161"><a href="#cb31-161"></a><span class="in">```{r}</span></span>
<span id="cb31-162"><a href="#cb31-162"></a><span class="co"># Filter für die Daten anwenden</span></span>
<span id="cb31-163"><a href="#cb31-163"></a>filtered_data <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb31-164"><a href="#cb31-164"></a>  <span class="fu">filter</span>(id_within <span class="sc">==</span> <span class="dv">1</span>, daughter <span class="sc">==</span> <span class="dv">1</span>)</span>
<span id="cb31-165"><a href="#cb31-165"></a></span>
<span id="cb31-166"><a href="#cb31-166"></a><span class="co"># Deskriptive Statistiken berechnen</span></span>
<span id="cb31-167"><a href="#cb31-167"></a>descriptive_stats <span class="ot">&lt;-</span> filtered_data <span class="sc">%&gt;%</span></span>
<span id="cb31-168"><a href="#cb31-168"></a>  <span class="fu">summarise</span>(</span>
<span id="cb31-169"><a href="#cb31-169"></a>    <span class="at">Female_Mean =</span> <span class="fu">mean</span>(female, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb31-170"><a href="#cb31-170"></a>    <span class="at">Female_SD =</span> <span class="fu">sd</span>(female, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb31-171"><a href="#cb31-171"></a>    <span class="at">Female_Min =</span> <span class="fu">min</span>(female, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb31-172"><a href="#cb31-172"></a>    <span class="at">Female_Max =</span> <span class="fu">max</span>(female, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb31-173"><a href="#cb31-173"></a>    <span class="at">Female_N =</span> <span class="fu">sum</span>(<span class="sc">!</span><span class="fu">is.na</span>(female)),</span>
<span id="cb31-174"><a href="#cb31-174"></a>    </span>
<span id="cb31-175"><a href="#cb31-175"></a>    <span class="at">Age_Mean =</span> <span class="fu">mean</span>(age, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb31-176"><a href="#cb31-176"></a>    <span class="at">Age_SD =</span> <span class="fu">sd</span>(age, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb31-177"><a href="#cb31-177"></a>    <span class="at">Age_Min =</span> <span class="fu">min</span>(age, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb31-178"><a href="#cb31-178"></a>    <span class="at">Age_Max =</span> <span class="fu">max</span>(age, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb31-179"><a href="#cb31-179"></a>    <span class="at">Age_N =</span> <span class="fu">sum</span>(<span class="sc">!</span><span class="fu">is.na</span>(age)),</span>
<span id="cb31-180"><a href="#cb31-180"></a>    </span>
<span id="cb31-181"><a href="#cb31-181"></a>    <span class="at">Child_Mean =</span> <span class="fu">mean</span>(child, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb31-182"><a href="#cb31-182"></a>    <span class="at">Child_SD =</span> <span class="fu">sd</span>(child, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb31-183"><a href="#cb31-183"></a>    <span class="at">Child_Min =</span> <span class="fu">min</span>(child, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb31-184"><a href="#cb31-184"></a>    <span class="at">Child_Max =</span> <span class="fu">max</span>(child, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb31-185"><a href="#cb31-185"></a>    <span class="at">Child_N =</span> <span class="fu">sum</span>(<span class="sc">!</span><span class="fu">is.na</span>(child)),</span>
<span id="cb31-186"><a href="#cb31-186"></a>    </span>
<span id="cb31-187"><a href="#cb31-187"></a>    <span class="at">Mig_Mean =</span> <span class="fu">mean</span>(mig, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb31-188"><a href="#cb31-188"></a>    <span class="at">Mig_SD =</span> <span class="fu">sd</span>(mig, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb31-189"><a href="#cb31-189"></a>    <span class="at">Mig_Min =</span> <span class="fu">min</span>(mig, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb31-190"><a href="#cb31-190"></a>    <span class="at">Mig_Max =</span> <span class="fu">max</span>(mig, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb31-191"><a href="#cb31-191"></a>    <span class="at">Mig_N =</span> <span class="fu">sum</span>(<span class="sc">!</span><span class="fu">is.na</span>(mig)),</span>
<span id="cb31-192"><a href="#cb31-192"></a>    </span>
<span id="cb31-193"><a href="#cb31-193"></a>    <span class="at">Gifted_Mean =</span> <span class="fu">mean</span>(gifted, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb31-194"><a href="#cb31-194"></a>    <span class="at">Gifted_SD =</span> <span class="fu">sd</span>(gifted, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb31-195"><a href="#cb31-195"></a>    <span class="at">Gifted_Min =</span> <span class="fu">min</span>(gifted, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb31-196"><a href="#cb31-196"></a>    <span class="at">Gifted_Max =</span> <span class="fu">max</span>(gifted, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb31-197"><a href="#cb31-197"></a>    <span class="at">Gifted_N =</span> <span class="fu">sum</span>(<span class="sc">!</span><span class="fu">is.na</span>(gifted)),</span>
<span id="cb31-198"><a href="#cb31-198"></a>    </span>
<span id="cb31-199"><a href="#cb31-199"></a>    <span class="at">IV_Received_Mean =</span> <span class="fu">mean</span>(iv_received, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb31-200"><a href="#cb31-200"></a>    <span class="at">IV_Received_SD =</span> <span class="fu">sd</span>(iv_received, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb31-201"><a href="#cb31-201"></a>    <span class="at">IV_Received_Min =</span> <span class="fu">min</span>(iv_received, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb31-202"><a href="#cb31-202"></a>    <span class="at">IV_Received_Max =</span> <span class="fu">max</span>(iv_received, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb31-203"><a href="#cb31-203"></a>    <span class="at">IV_Received_N =</span> <span class="fu">sum</span>(<span class="sc">!</span><span class="fu">is.na</span>(iv_received)),</span>
<span id="cb31-204"><a href="#cb31-204"></a>    </span>
<span id="cb31-205"><a href="#cb31-205"></a>    <span class="at">ABI_Mean =</span> <span class="fu">mean</span>(abi, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb31-206"><a href="#cb31-206"></a>    <span class="at">ABI_SD =</span> <span class="fu">sd</span>(abi, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb31-207"><a href="#cb31-207"></a>    <span class="at">ABI_Min =</span> <span class="fu">min</span>(abi, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb31-208"><a href="#cb31-208"></a>    <span class="at">ABI_Max =</span> <span class="fu">max</span>(abi, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb31-209"><a href="#cb31-209"></a>    <span class="at">ABI_N =</span> <span class="fu">sum</span>(<span class="sc">!</span><span class="fu">is.na</span>(abi))</span>
<span id="cb31-210"><a href="#cb31-210"></a>  )</span>
<span id="cb31-211"><a href="#cb31-211"></a></span>
<span id="cb31-212"><a href="#cb31-212"></a><span class="co"># Umstrukturierung der Tabelle</span></span>
<span id="cb31-213"><a href="#cb31-213"></a>descriptive_stats_long <span class="ot">&lt;-</span> descriptive_stats <span class="sc">%&gt;%</span></span>
<span id="cb31-214"><a href="#cb31-214"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb31-215"><a href="#cb31-215"></a>    <span class="at">cols =</span> <span class="fu">everything</span>(),</span>
<span id="cb31-216"><a href="#cb31-216"></a>    <span class="at">names_to =</span> <span class="fu">c</span>(<span class="st">"Variable"</span>, <span class="st">".value"</span>),</span>
<span id="cb31-217"><a href="#cb31-217"></a>    <span class="at">names_pattern =</span> <span class="st">"(.*)_(.*)"</span></span>
<span id="cb31-218"><a href="#cb31-218"></a>  )</span>
<span id="cb31-219"><a href="#cb31-219"></a></span>
<span id="cb31-220"><a href="#cb31-220"></a><span class="co"># Tabelle mit sjPlot anzeigen</span></span>
<span id="cb31-221"><a href="#cb31-221"></a><span class="fu">tab_df</span>(</span>
<span id="cb31-222"><a href="#cb31-222"></a>  descriptive_stats_long,</span>
<span id="cb31-223"><a href="#cb31-223"></a>  <span class="at">title =</span> <span class="st">"Descriptive Statistics of Respondent Characteristics"</span>,</span>
<span id="cb31-224"><a href="#cb31-224"></a>  <span class="at">col.header =</span> <span class="fu">c</span>(<span class="st">"Variable"</span>, <span class="st">"Mean"</span>, <span class="st">"SD"</span>, <span class="st">"Min"</span>, <span class="st">"Max"</span>, <span class="st">"N"</span>)</span>
<span id="cb31-225"><a href="#cb31-225"></a>)</span>
<span id="cb31-226"><a href="#cb31-226"></a></span>
<span id="cb31-227"><a href="#cb31-227"></a><span class="in">```</span></span>
<span id="cb31-228"><a href="#cb31-228"></a></span>
<span id="cb31-229"><a href="#cb31-229"></a><span class="fu">## Replikation Figure 1</span></span>
<span id="cb31-230"><a href="#cb31-230"></a></span>
<span id="cb31-233"><a href="#cb31-233"></a><span class="in">```{r}</span></span>
<span id="cb31-234"><a href="#cb31-234"></a><span class="co"># Create the histogram</span></span>
<span id="cb31-235"><a href="#cb31-235"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x =</span> child_vig)) <span class="sc">+</span></span>
<span id="cb31-236"><a href="#cb31-236"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">y =</span> ..count..<span class="sc">/</span><span class="fu">sum</span>(..count..)<span class="sc">*</span><span class="dv">100</span>), <span class="at">binwidth =</span> <span class="dv">250</span>, </span>
<span id="cb31-237"><a href="#cb31-237"></a>                 <span class="at">fill =</span> <span class="st">"blue"</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb31-238"><a href="#cb31-238"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">percent_format</span>(<span class="at">scale =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb31-239"><a href="#cb31-239"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Histogram"</span>,</span>
<span id="cb31-240"><a href="#cb31-240"></a>       <span class="at">x =</span> <span class="st">"Child's amount"</span>,</span>
<span id="cb31-241"><a href="#cb31-241"></a>       <span class="at">y =</span> <span class="st">"Percent"</span>) <span class="sc">+</span></span>
<span id="cb31-242"><a href="#cb31-242"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb31-243"><a href="#cb31-243"></a><span class="in">```</span></span>
<span id="cb31-244"><a href="#cb31-244"></a></span>
<span id="cb31-245"><a href="#cb31-245"></a></span>
<span id="cb31-246"><a href="#cb31-246"></a><span class="fu"># Regression</span></span>
<span id="cb31-247"><a href="#cb31-247"></a></span>
<span id="cb31-248"><a href="#cb31-248"></a><span class="fu">## Replikation von Tabelle 3</span></span>
<span id="cb31-249"><a href="#cb31-249"></a></span>
<span id="cb31-252"><a href="#cb31-252"></a><span class="in">```{r}</span></span>
<span id="cb31-253"><a href="#cb31-253"></a><span class="co"># Ensure reference category is set to 2 for each factor</span></span>
<span id="cb31-254"><a href="#cb31-254"></a>df<span class="sc">$</span>g_firstborn <span class="ot">&lt;-</span> <span class="fu">relevel</span>(<span class="fu">as.factor</span>(df<span class="sc">$</span>g_firstborn), <span class="at">ref =</span> <span class="st">"2"</span>)</span>
<span id="cb31-255"><a href="#cb31-255"></a>df<span class="sc">$</span>g_help <span class="ot">&lt;-</span> <span class="fu">relevel</span>(<span class="fu">as.factor</span>(df<span class="sc">$</span>g_help), <span class="at">ref =</span> <span class="st">"2"</span>)</span>
<span id="cb31-256"><a href="#cb31-256"></a>df<span class="sc">$</span>g_need <span class="ot">&lt;-</span> <span class="fu">relevel</span>(<span class="fu">as.factor</span>(df<span class="sc">$</span>g_need), <span class="at">ref =</span> <span class="st">"2"</span>)</span>
<span id="cb31-257"><a href="#cb31-257"></a></span>
<span id="cb31-258"><a href="#cb31-258"></a><span class="co"># Run the regression model</span></span>
<span id="cb31-259"><a href="#cb31-259"></a>model <span class="ot">&lt;-</span> <span class="fu">lm</span>(child_vig <span class="sc">~</span> daughter <span class="sc">*</span> g_firstborn <span class="sc">+</span></span>
<span id="cb31-260"><a href="#cb31-260"></a>                      g_help <span class="sc">*</span> daughter <span class="sc">+</span></span>
<span id="cb31-261"><a href="#cb31-261"></a>                      g_need <span class="sc">*</span> daughter, </span>
<span id="cb31-262"><a href="#cb31-262"></a>            <span class="at">data =</span> df)</span>
<span id="cb31-263"><a href="#cb31-263"></a></span>
<span id="cb31-264"><a href="#cb31-264"></a><span class="co"># Clustered standard errors</span></span>
<span id="cb31-265"><a href="#cb31-265"></a>clustered_se <span class="ot">&lt;-</span> <span class="fu">coeftest</span>(model, <span class="at">vcov =</span> vcovCL, <span class="at">cluster =</span> <span class="sc">~</span> id_resp)</span>
<span id="cb31-266"><a href="#cb31-266"></a></span>
<span id="cb31-267"><a href="#cb31-267"></a><span class="co"># Output the results</span></span>
<span id="cb31-268"><a href="#cb31-268"></a><span class="fu">summary</span>(model)         <span class="co"># Regression summary</span></span>
<span id="cb31-269"><a href="#cb31-269"></a><span class="fu">print</span>(clustered_se)    <span class="co"># Results with clustered SE</span></span>
<span id="cb31-270"><a href="#cb31-270"></a><span class="fu">tab_model</span>(model)</span>
<span id="cb31-271"><a href="#cb31-271"></a><span class="in">```</span></span>
<span id="cb31-272"><a href="#cb31-272"></a></span>
<span id="cb31-273"><a href="#cb31-273"></a></span>
<span id="cb31-274"><a href="#cb31-274"></a><span class="fu"># Render</span></span>
<span id="cb31-275"><a href="#cb31-275"></a></span>
<span id="cb31-276"><a href="#cb31-276"></a>Wandle dieses Dokument in ein PDF und ein HTML Dokument um.</span>
<span id="cb31-277"><a href="#cb31-277"></a></span>
<span id="cb31-278"><a href="#cb31-278"></a><span class="fu"># Weiterführende Literatur</span></span>
<span id="cb31-279"><a href="#cb31-279"></a></span>
<span id="cb31-280"><a href="#cb31-280"></a><span class="ss">-   </span><span class="co">[</span><span class="ot">R for Data Science</span><span class="co">](https://r4ds.had.co.nz/)</span></span>
</code><button title="Copy to Clipboard" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>© Copyright 2024, Daria Tisch</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
<p>This page is built with 💙 and <a href="https://quarto.org/">Quarto</a>.</p>
</div>
  </div>
</footer>




</body></html>