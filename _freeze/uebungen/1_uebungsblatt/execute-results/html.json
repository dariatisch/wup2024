{
  "hash": "c7213232d38d1ac7a7f1c0d6ce007965",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"1. Übungsblatt\"\nauthor: \"Daria Tisch\"\nformat: \n  html:\n    code-fold: true\n    code-tools: true\n    code-link: true\n    df-print: paged\n    code-line-numbers: true\neditor: visual\nnumber-sections: true\n---\n\n\n\n\n# Einführung in Quarto und R\n\n## Quarto\n\nQuarto ermöglicht es, Inhalte und ausführbaren Code zu einem fertigen Dokument zu verweben. Mehr über Quarto unter <https://quarto.org>.\n\n## Code ausführen\n\nWenn Du auf die Schaltfläche **Render** klickst, wird ein Dokument erstellt, das sowohl den Inhalt als auch die **Ausgabe** des eingebetteten Codes enthält. Code kann wie folgt einbettet werden:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# This is the first code chunk\n1 + 1\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 2\n```\n\n\n:::\n:::\n\n\n\n\nEs können Optionen zu ausführbarem Code wie folgt hinzugefügt werden\n\n\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 4\n```\n\n\n:::\n:::\n\n\n\n\n`echo: false` deaktiviert das Drucken des Codes (nur die Ausgabe wird angezeigt).\n\n## Arbeitsverzeichnis festsetzen\n\nAls ersten Schritt sollte immer das Arbeitsverzeichnis festgelegt weren. Ändere dies bitte zu Deinem.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# set working directory\nsetwd(\"D:/Seafile/main/teaching/2024_wuppertal/wup2024/uebungen\")\n```\n:::\n\n\n\n\n## Packages installieren und laden\n\n[R als Füller](https://jaspertjaden.github.io/course-intro2r/week2.html#week2)\n\nBevor Du (die meisten) Dinge in R tun kannst, musst Du zunächst Pakete (packages) installieren und laden, die eine Bibliothek (library) mit praktischen Funktionen enthalten. Stell Dir vor, R ist ein Füller. Die Pakete sind die Tinte. Du brauchst zunächst die Tinte (Paket installieren) und dann musst Du die Tinte in den Stift geben (Paket laden), bevor Du mit dem Schreiben beginnen kannst (einen Befehl ausführen). Base R mag Dir die Standardtinte liefern, aber andere Pakete können wertvollere und interessantere Farben liefern.\n\nWir nutzen in dieser Übung zwei Pakete:\n\n1.  tidyverse: Hilfreich, um Datensatz augzubereiten. Eine gute Einführung in das Paket ist [hier](https://bookdown.org/yih_huynh/Guide-to-R-Book/tidyverse.html) oder [hier](https://jaspertjaden.github.io/course-intro2r/week3.html) zu finden.\n\n2.  ggplot2: (im Paket tidyverse enthalten). Hilfreich, um schöne Graphen zu erstellen. Eine gute Einführung ist [hier](https://datacarpentry.github.io/r-socialsci/05-ggplot2.html) oder [hier](https://jaspertjaden.github.io/course-intro2r/week6.html) zu finden.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Packages\npkgs <- c(\n  \"tidyverse\"\n) \n\n## Install uninstalled packages\nlapply(pkgs[!(pkgs %in% installed.packages())], install.packages)\n\n## Load all packages to library\nlapply(pkgs, library, character.only = TRUE)\n```\n:::\n\n\n\n\n## Daten einlesen\n\nWir arbeiten mit dem Übungsdatensatz des SOEP (DOI:10.5684/soep.practice.v36). Es werden zwei Datensätze eingelesen. Der erste Datensatz enthalt die tatsächlichen Umfragedaten, der zweite Datensatz enthält die Variablenlabels.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# read data\ndf = read.csv(\"../daten/soep_uebung.csv\")\ndf_labels = read.csv(\"../daten/soep_labels.csv\")\n```\n:::\n\n\n\n\n## Datenexploration\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Wie viele Zeilen hat der Datensatz?\nnrow(df)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 23522\n```\n\n\n:::\n:::\n\n\n\n\nDer Datensatz enthält 23522 Beobachtungen.\n\n## Datenexploration\n\nSchauen wir uns die ersten Zeilen des Datensatzes an, um einen ersten Überblick über den Datensatz zu gewinnen.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(df)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"\"],\"name\":[\"_rn_\"],\"type\":[\"\"],\"align\":[\"left\"]},{\"label\":[\"id\"],\"name\":[1],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"syear\"],\"name\":[2],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"sex\"],\"name\":[3],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"alter\"],\"name\":[4],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"anz_pers\"],\"name\":[5],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"anz_kind\"],\"name\":[6],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"bildung\"],\"name\":[7],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"erwerb\"],\"name\":[8],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"branche\"],\"name\":[9],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"gesund_org\"],\"name\":[10],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"lebensz_org\"],\"name\":[11],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"einkommenj1\"],\"name\":[12],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"einkommenj2\"],\"name\":[13],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"einkommenm1\"],\"name\":[14],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"einkommenm2\"],\"name\":[15],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"194\",\"2\":\"2015\",\"3\":\"[1] weiblich\",\"4\":\"59\",\"5\":\"2\",\"6\":\"0\",\"7\":\"10.5\",\"8\":\"[2] Teilzeitbeschäftigung\",\"9\":\"[84] Oeffentliche Verwaltung, Verteidigung; Sozialversicherung\",\"10\":\"[4] Weniger gut\",\"11\":\"6\",\"12\":\"28678.94\",\"13\":\"0\",\"14\":\"1659.129\",\"15\":\"0\",\"_rn_\":\"1\"},{\"1\":\"194\",\"2\":\"2016\",\"3\":\"[1] weiblich\",\"4\":\"60\",\"5\":\"2\",\"6\":\"0\",\"7\":\"10.5\",\"8\":\"[2] Teilzeitbeschäftigung\",\"9\":\"[84] Oeffentliche Verwaltung, Verteidigung; Sozialversicherung\",\"10\":\"[3] Zufriedenstellend\",\"11\":\"5\",\"12\":\"19962.29\",\"13\":\"0\",\"14\":\"1809.336\",\"15\":\"0\",\"_rn_\":\"2\"},{\"1\":\"194\",\"2\":\"2017\",\"3\":\"[1] weiblich\",\"4\":\"61\",\"5\":\"2\",\"6\":\"0\",\"7\":\"10.5\",\"8\":\"[2] Teilzeitbeschäftigung\",\"9\":\"[84] Oeffentliche Verwaltung, Verteidigung; Sozialversicherung\",\"10\":\"[3] Zufriedenstellend\",\"11\":\"7\",\"12\":\"22227.68\",\"13\":\"0\",\"14\":\"1849.037\",\"15\":\"0\",\"_rn_\":\"3\"},{\"1\":\"194\",\"2\":\"2018\",\"3\":\"[1] weiblich\",\"4\":\"62\",\"5\":\"2\",\"6\":\"0\",\"7\":\"10.5\",\"8\":\"[2] Teilzeitbeschäftigung\",\"9\":\"[84] Oeffentliche Verwaltung, Verteidigung; Sozialversicherung\",\"10\":\"[5] Schlecht\",\"11\":\"5\",\"12\":\"22100.38\",\"13\":\"0\",\"14\":\"1616.514\",\"15\":\"0\",\"_rn_\":\"4\"},{\"1\":\"194\",\"2\":\"2019\",\"3\":\"[1] weiblich\",\"4\":\"63\",\"5\":\"2\",\"6\":\"0\",\"7\":\"10.5\",\"8\":\"[2] Teilzeitbeschäftigung\",\"9\":\"[84] Oeffentliche Verwaltung, Verteidigung; Sozialversicherung\",\"10\":\"[4] Weniger gut\",\"11\":\"6\",\"12\":\"23157.92\",\"13\":\"0\",\"14\":\"1901.001\",\"15\":\"0\",\"_rn_\":\"5\"},{\"1\":\"19052\",\"2\":\"2015\",\"3\":\"[1] weiblich\",\"4\":\"74\",\"5\":\"2\",\"6\":\"0\",\"7\":\"10.0\",\"8\":\"[5] Nicht erwerbstätig\",\"9\":\"\",\"10\":\"[2] Gut\",\"11\":\"8\",\"12\":\"0.00\",\"13\":\"0\",\"14\":\"0.000\",\"15\":\"0\",\"_rn_\":\"6\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\n\n\n## Welche Variablen sind im Datensatz enthalten?\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Namen der Variablen\nnames(df)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] \"id\"          \"syear\"       \"sex\"         \"alter\"       \"anz_pers\"   \n [6] \"anz_kind\"    \"bildung\"     \"erwerb\"      \"branche\"     \"gesund_org\" \n[11] \"lebensz_org\" \"einkommenj1\" \"einkommenj2\" \"einkommenm1\" \"einkommenm2\"\n```\n\n\n:::\n\n```{.r .cell-code}\n#Namen, Datentyp und erste Einträge der Variablen\nglimpse(df)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 23,522\nColumns: 15\n$ id          <int> 194, 194, 194, 194, 194, 19052, 27495, 27495, 27495, 22539…\n$ syear       <int> 2015, 2016, 2017, 2018, 2019, 2015, 2016, 2018, 2019, 2015…\n$ sex         <chr> \"[1] weiblich\", \"[1] weiblich\", \"[1] weiblich\", \"[1] weibl…\n$ alter       <int> 59, 60, 61, 62, 63, 74, 35, 37, 38, 85, 73, 74, 43, 44, 45…\n$ anz_pers    <int> 2, 2, 2, 2, 2, 2, 3, 3, 3, 2, 1, 1, 4, 4, 4, 4, 4, 2, 2, 2…\n$ anz_kind    <int> 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 2, 2, 2, 2, 2, 0, 0, 0…\n$ bildung     <dbl> 10.5, 10.5, 10.5, 10.5, 10.5, 10.0, 15.0, 15.0, 15.0, 18.0…\n$ erwerb      <chr> \"[2] Teilzeitbeschäftigung\", \"[2] Teilzeitbeschäftigung\", …\n$ branche     <chr> \"[84] Oeffentliche Verwaltung, Verteidigung; Sozialversich…\n$ gesund_org  <chr> \"[4] Weniger gut\", \"[3] Zufriedenstellend\", \"[3] Zufrieden…\n$ lebensz_org <chr> \"6\", \"5\", \"7\", \"5\", \"6\", \"8\", \"8\", \"8\", \"8\", \"8\", \"5\", \"8\"…\n$ einkommenj1 <dbl> 28678.94, 19962.29, 22227.68, 22100.38, 23157.92, 0.00, 14…\n$ einkommenj2 <dbl> 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.…\n$ einkommenm1 <dbl> 1659.1285, 1809.3364, 1849.0375, 1616.5137, 1901.0012, 0.0…\n$ einkommenm2 <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…\n```\n\n\n:::\n:::\n\n\n\n\n# Übungsaufgaben\n\n## Frauen im Datensatz\n\nWie viele Beobachtungen im Datensatz sind Frauen?\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable(df$sex)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n[0] männlich [1] weiblich \n       10762        12760 \n```\n\n\n:::\n:::\n\n\n\n\n## Balkendiagramm mit ggplot()\n\nErstelle ein Balkendiagramm, das die Verteilung des Alters darstellt.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(df, aes(x = alter)) +\n  geom_bar(fill = \"skyblue\", color = \"black\") +\n  labs(\n    title = \"Verteilung des Alters\",\n    x = \"Alter\",\n    y = \"Häufigkeit\"\n  ) +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](1_uebungsblatt_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n\n\n\n\n## Summary Statistics\n\nWir alt ist die jüngste und wie alt die älteste Person?\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(df$alter)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n  17.00   34.00   48.00   48.28   62.00  102.00 \n```\n\n\n:::\n:::\n\n\n\n\n## Variablentypen\n\nWelcher Variablentyp ist Geschlecht (sex)? Welcher Alter? Welcher Bildung?\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nglimpse(df)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 23,522\nColumns: 15\n$ id          <int> 194, 194, 194, 194, 194, 19052, 27495, 27495, 27495, 22539…\n$ syear       <int> 2015, 2016, 2017, 2018, 2019, 2015, 2016, 2018, 2019, 2015…\n$ sex         <chr> \"[1] weiblich\", \"[1] weiblich\", \"[1] weiblich\", \"[1] weibl…\n$ alter       <int> 59, 60, 61, 62, 63, 74, 35, 37, 38, 85, 73, 74, 43, 44, 45…\n$ anz_pers    <int> 2, 2, 2, 2, 2, 2, 3, 3, 3, 2, 1, 1, 4, 4, 4, 4, 4, 2, 2, 2…\n$ anz_kind    <int> 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 2, 2, 2, 2, 2, 0, 0, 0…\n$ bildung     <dbl> 10.5, 10.5, 10.5, 10.5, 10.5, 10.0, 15.0, 15.0, 15.0, 18.0…\n$ erwerb      <chr> \"[2] Teilzeitbeschäftigung\", \"[2] Teilzeitbeschäftigung\", …\n$ branche     <chr> \"[84] Oeffentliche Verwaltung, Verteidigung; Sozialversich…\n$ gesund_org  <chr> \"[4] Weniger gut\", \"[3] Zufriedenstellend\", \"[3] Zufrieden…\n$ lebensz_org <chr> \"6\", \"5\", \"7\", \"5\", \"6\", \"8\", \"8\", \"8\", \"8\", \"8\", \"5\", \"8\"…\n$ einkommenj1 <dbl> 28678.94, 19962.29, 22227.68, 22100.38, 23157.92, 0.00, 14…\n$ einkommenj2 <dbl> 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.…\n$ einkommenm1 <dbl> 1659.1285, 1809.3364, 1849.0375, 1616.5137, 1901.0012, 0.0…\n$ einkommenm2 <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…\n```\n\n\n:::\n:::\n\n\n\n\n## (Kreuz-)tabellen\n\nWie viele Beobachtungen gibt es pro Jahr? Und getrennt nach Geschlecht?\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable(df$syear)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n2015 2016 2017 2018 2019 \n5527 4987 4720 4351 3937 \n```\n\n\n:::\n\n```{.r .cell-code}\ntable(df$syear, df$sex)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n      \n       [0] männlich [1] weiblich\n  2015         2533         2994\n  2016         2291         2696\n  2017         2167         2553\n  2018         1992         2359\n  2019         1779         2158\n```\n\n\n:::\n:::\n\n\n\n\n## Datensatz Exploration\n\nWas beinhaltet die Variable \"einkommenj1\" und \"einkommenj2\"?\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_labels\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"variable\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"variable_label\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]}],\"data\":[{\"1\":\"id\",\"2\":\"Personennummer (zufällig generiert)\"},{\"1\":\"syear\",\"2\":\"Erhebungsjahr\"},{\"1\":\"sex\",\"2\":\"Geschlecht\"},{\"1\":\"alter\",\"2\":\"Alter der Befragungsperson\"},{\"1\":\"anz_pers\",\"2\":\"Anzahl Personen im Haushalt\"},{\"1\":\"anz_kind\",\"2\":\"Anzahl Kinder im Haushalt\"},{\"1\":\"bildung\",\"2\":\"Anzahl an Bildungsjahren\"},{\"1\":\"erwerb\",\"2\":\"Erwerbsstatus\"},{\"1\":\"branche\",\"2\":\"Branche aktueller Beruf\"},{\"1\":\"gesund_org\",\"2\":\"subj. Gesundheit\"},{\"1\":\"lebensz_org\",\"2\":\"Ggw. Lebenszufriedenheit\"},{\"1\":\"einkommenj1\",\"2\":\"Bruttoeinkommen/Jahr Hauptberuf\"},{\"1\":\"einkommenj2\",\"2\":\"Bruttoeinkommen/Jahr Nebenberuf\"},{\"1\":\"einkommenm1\",\"2\":\"Bruttoeinkommen/Monat Hauptberuf\"},{\"1\":\"einkommenm2\",\"2\":\"Bruttoeinkommen/Monat Nebenberuf\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\n\n\n## Vektor\n\nErstelle einen Vektor, der die Ausprägungen der Variable \"gesund_org\" enthält. Und schaue Dir diesen Vektor an.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Eindeutige Ausprägungen der Variable 'gesund_org'\nvektor_gesund_org <- unique(df$gesund_org)\n\n# Ausgabe der eindeutigen Ausprägungen\nprint(vektor_gesund_org)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"[4] Weniger gut\"       \"[3] Zufriedenstellend\" \"[5] Schlecht\"         \n[4] \"[2] Gut\"               \"\"                      \"[1] Sehr gut\"         \n```\n\n\n:::\n:::\n\n\n\n\n## Data wrlangling\n\nWir möchten den subjektiven Gesundheitsstatus als numerische Variable nutzen. Wir müssen daher die Variable gesund_org in eine numerische Variable umwandeln. Achte auf fehlende Werte.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable(df$gesund_org, useNA = \"always\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n                               [1] Sehr gut               [2] Gut \n                  102                  2535                  9488 \n[3] Zufriedenstellend       [4] Weniger gut          [5] Schlecht \n                 7576                  3089                   732 \n                 <NA> \n                    0 \n```\n\n\n:::\n\n```{.r .cell-code}\n# Ersetze leere Zeichenketten \"\" durch NA in der Spalte 'gesund_org'\ndf$gesund_org[df$gesund_org == \"\"] <- NA\n\n# Extrahiere die numerischen Werte aus der Spalte 'gesund_org'\ndf$gesund_org_numeric <- as.numeric(sub(\"\\\\[([0-9]+)\\\\].*\", \"\\\\1\", df$gesund_org))\n\n# Überprüfe die Änderungen\ntable(df$gesund_org_numeric, useNA = \"always\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n   1    2    3    4    5 <NA> \n2535 9488 7576 3089  732  102 \n```\n\n\n:::\n\n```{.r .cell-code}\ntable(df$gesund_org, useNA = \"always\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n         [1] Sehr gut               [2] Gut [3] Zufriedenstellend \n                 2535                  9488                  7576 \n      [4] Weniger gut          [5] Schlecht                  <NA> \n                 3089                   732                   102 \n```\n\n\n:::\n:::\n\n\n\n\n## Balkendiagramm\n\nStelle die Verteilung des subjetiven Gesundheitsstatus graphisch dar\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Barplot erstellen\nggplot(df, aes(x = factor(gesund_org_numeric))) +\n  geom_bar(fill = \"skyblue\", color = \"black\") +\n  labs(\n    title = \"Univariate Verteilung des subjektiven Gesundheitsstatus\",\n    x = \"Subjektiver Gesundheitsstatus (1 = Sehr gut, 5 = Schlecht)\",\n    y = \"Häufigkeit\"\n  ) +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](1_uebungsblatt_files/figure-html/unnamed-chunk-17-1.png){width=672}\n:::\n:::\n\n\n\n\n## Fehlende Werte\n\nGibt es fehlende Werte auf der Variable monatliches Einkommen (einkommenm1) und auf der Variable Alter?\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable(df$alter, useNA = \"always\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n  17   18   19   20   21   22   23   24   25   26   27   28   29   30   31   32 \n 472  470  437  392  347  290  281  263  244  254  283  282  293  304  337  341 \n  33   34   35   36   37   38   39   40   41   42   43   44   45   46   47   48 \n 331  368  387  387  379  397  413  430  447  450  454  434  450  466  466  473 \n  49   50   51   52   53   54   55   56   57   58   59   60   61   62   63   64 \n 500  517  526  518  479  447  412  381  381  359  339  336  326  296  298  312 \n  65   66   67   68   69   70   71   72   73   74   75   76   77   78   79   80 \n 325  314  309  294  272  239  242  244  246  256  276  271  270  247  223  192 \n  81   82   83   84   85   86   87   88   89   90   91   92   93   94   95   96 \n 156  124  105   82   74   64   47   46   36   28   19   18   13   11    8    5 \n  97   98   99  100  101  102 <NA> \n   5    4    3    3    1    1    0 \n```\n\n\n:::\n\n```{.r .cell-code}\nsummary(df$einkommenm1)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n    0.0     0.0   852.9  1645.6  2687.4 35260.9 \n```\n\n\n:::\n:::\n\n\n\n\n## Zusammenhangsanalyse\n\nSchaue Dir den Zusammenhang von subjektiven Gesundheitsstatus und Alter graphisch mit Hilfe eines Scatterplots an. Beschränke die Daten auf das Jahr 2019 und auf Personen, die jünger als 65 Jahre alt sind.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Scatterplot mit ggplot2 erstellen\nggplot(df %>% filter(syear==\"2019\", alter < 65), aes(x = alter , y = einkommenm1)) +\n  geom_point(color = \"blue\", alpha = 0.6) +  # Punkte hinzufügen\n  geom_smooth(method = \"lm\", color = \"red\", se = TRUE) +  # Lineare Trendlinie mit Konfidenzintervall\n  labs(\n    title = \"Zusammenhang zwischen Einkommen und Alter\",\n    x = \"Alter\",\n    y = \"Einkommen\"\n  ) +\n  theme_minimal()  # Minimalistisches Theme\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n`geom_smooth()` using formula = 'y ~ x'\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](1_uebungsblatt_files/figure-html/unnamed-chunk-19-1.png){width=672}\n:::\n:::\n\n\n\n\n## Zusammenhangsanalyse mit log. Daten\n\nUnd nun mit logarithmiertem Einkommen. Was fällt auf?\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Scatterplot mit ggplot2 erstellen\nggplot(df %>% filter(syear==\"2019\", alter < 65), aes(x = alter , y = log(einkommenm1))) +\n  geom_point(color = \"blue\", alpha = 0.6) +  # Punkte hinzufügen\n  geom_smooth(method = \"lm\", color = \"red\", se = TRUE) +  # Lineare Trendlinie mit Konfidenzintervall\n  labs(\n    title = \"Zusammenhang zwischen Einkommen und Alter\",\n    x = \"Alter\",\n    y = \"Einkommen, log.\"\n  ) +\n  theme_minimal()  # Minimalistisches Theme\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n`geom_smooth()` using formula = 'y ~ x'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Removed 660 rows containing non-finite outside the scale range\n(`stat_smooth()`).\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](1_uebungsblatt_files/figure-html/unnamed-chunk-20-1.png){width=672}\n:::\n:::\n\n\n\n\n## Render\n\nWandle dieses Dokument in ein PDF und ein HTML Dokument um. Wo wird es gespeichert?\n\n# Weiterführende Literatur\n\n-   [R for Data Science](https://r4ds.had.co.nz/)\n",
    "supporting": [
      "1_uebungsblatt_files\\figure-html"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}